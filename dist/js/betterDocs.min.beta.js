/*! blackbeard vbeta | (c) 2017 Chris Ferdinandi | LicenseRef-All Rights Reserved License | http://github.com/mashery/blackbeard */
/*!
 * BetterDocs.js v1.0.0
 * Create better static documentation.
 * (c) 2017 TIBCO Software Inc.
 * Written by Chris Ferdinandi
 * All Rights Reserved
 */
!(function(e,t){"function"==typeof define&&define.amd?define([],(function(){return t(e)})):"object"==typeof exports?module.exports=t(e):e.BetterDocs=t(e)})("undefined"!=typeof global?global:"undefined"!=typeof window?window:this,(function(e){"use strict";var t="querySelector"in document&&"addEventListener"in e&&"closest"in e.Element.prototype,n={restrictToPages:"docs",tocSelector:"h2, h3, h4, h5, h6",tocHeading:"",tocLocation:"#nav-docs",currentPageSelector:".current-page",tocLocationReplace:!1,langs:null,langDefault:null,langsNav:".better-docs-nav",wideLayout:!1,wideLayoutBg:!0,initClass:"better-docs",wideLayoutClass:"better-docs-wide",wideLayoutBgClass:"better-docs-wide-bg",contentClassSuffix:"-content"},a=function(){for(var e={},t=0,n=arguments.length;t<n;t++){var a=arguments[t];!(function(t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(a)}return e},o=function(e){return"toc-"+e.innerText.toLowerCase().replace(/^[^a-z]+|[^\w:.-]+/g,"-")},c=function(e,t){for(var n="",a=Math.abs(t);a>0;a--)n+="<ul>";return n},s=function(e,t){for(var n="",a=Math.abs(t);a>0;a--)n+="</li></ul>";return n},r=function(e){var t=document.querySelector("script"),n=document.createElement("style"),a=[];e.forEach((function(e){e.selector.split(",").forEach((function(e){a.push("pre.lang-"+e.trim()),a.push("pre.language-"+e.trim())}))})),n.innerHTML=a.join(",")+"{display:none;visibility:hidden;}"+a.join(".active,")+".active{display:block;visibility:visible;}",t.before(n)},l=function(e,t){var n="";e.forEach((function(e,t){n+='<li><a role="button" data-lang="'+t+'" href="#lang-'+t+'">'+e.title+"</a></li>"})),document.querySelectorAll(t).forEach((function(e){e.innerHTML="<ul>"+n+"</ul>"}))};return function(u,d){var f,g,m={},v=function(){if(f.restrictToPages){if("[object Array]"!==Object.prototype.toString.call(f.restrictToPages)){var t=f.restrictToPages;f.restrictToPages=[],f.restrictToPages.push(t)}if(-1===f.restrictToPages.indexOf(e.mashery.contentType)&&-1===f.restrictToPages.indexOf(e.mashery.contentId))return!1}return!0},y=function(){var e,t,n,a=g.querySelectorAll(f.tocSelector),r=f.tocLocationReplace?document.querySelector(f.tocLocation):document.querySelector(f.tocLocation+" "+f.currentPageSelector),l="";r&&(a.forEach((function(r){t=parseInt(r.tagName.substring(1),10),n="</li>",e||(n="",e=t),(!r.id||r.id.length<1)&&(r.id=o(a[i]));var u=t-e;u>0?l+=c(0,u):u<0&&(l+=s(0,u)),l+=n+'<li><a href="#'+r.id+'">'+r.innerText+"</a>",e=t})),f.tocLocationReplace?r.innerHTML=f.tocHeading+"<ul>"+l+"</ul>":r.innerHTML+=f.tocHeading+"<ul>"+l+"</ul>")},L=function(e){var t=document.querySelectorAll('[class*="lang-"].active, [class*="language-"].active, '+f.langsNav+" a.active"),n=f.langs[e].selector.split(","),a=[];n.forEach((function(e){a.push(".lang-"+e.trim()),a.push(".language-"+e.trim())}));var o=document.querySelectorAll(a.join(",")+","+f.langsNav+' [data-lang="'+e+'"]');t.forEach((function(e){e.classList.remove("active")})),o.forEach((function(e){e.classList.add("active")}))},p=function(e){var t=e.target.closest(f.langsNav+" a");t&&(e.preventDefault(),L(t.getAttribute("data-lang")))};return m.destroy=function(){f&&(document.removeEventListener("click",p,!1),document.documentElement.classList.remove(f.initClass),document.documentElement.classList.remove(f.wideLayoutClass),document.documentElement.classList.remove(f.wideLayoutBgClass),g&&(g.classList.remove(f.initClass+f.contentClassSuffix),g.classList.remove(f.wideLayoutClass+f.contentClassSuffix)),f=null,g=null)},m.init=function(e){t&&(m.destroy(),f=a(n,e||{}),v()&&(g=document.querySelector(u))&&(document.documentElement.classList.add(f.initClass),g.classList.add(f.initClass+f.contentClassSuffix),f.wideLayout&&(document.documentElement.classList.add(f.wideLayoutClass),g.classList.add(f.wideLayoutClass+f.contentClassSuffix),f.wideLayoutBg&&document.documentElement.classList.add(f.wideLayoutBgClass)),y(),l(f.langs,f.langsNav),f.langs&&r(f.langs),document.addEventListener("click",p,!1),f.langDefault&&L(f.langDefault)))},m.init(d),m}}));