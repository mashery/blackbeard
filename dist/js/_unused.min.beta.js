/*! blackbeard vbeta | (c) 2017 Chris Ferdinandi | LicenseRef-All Rights Reserved License | http://github.com/mashery/blackbeard */
var m$=(function(){"use strict";var e={};return e.get=function(e,t){return t=t||document,t.querySelector(e)},e.getAll=function(e,t){return t=t||document,Array.prototype.slice.call(t.querySelectorAll(e))},e.on=function(e,t,n,a){"function"==typeof t&&(a=n,n=t,t=window),a=!!a,t.addEventListener(e,n,a)},e.off=function(e,t,n,a){"function"==typeof t&&(a=n,n=t,t=window),a=!!a,t.removeEventListener(e,n,a)},e.click=function(e){var t=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});e.dispatchEvent(t)},e.loadJS=function(e,t,n){var a=document.querySelector('script[src*="'+e+'"]');if(a){if(!n)return void(t&&"function"==typeof t&&t());a.parentNode.removeChild(a)}var i=window.document.getElementsByTagName("script")[0],o=window.document.createElement("script");return o.src=e,i.parentNode.insertBefore(o,i),t&&"function"==typeof t&&(o.onload=t),o},e.loadCSS=function(e,t,n){function a(){for(var t,o=0;o<s.length;o++)s[o].href&&s[o].href.indexOf(e)>-1&&(t=!0);t?i.media=n||"all":setTimeout(a)}var i=window.document.createElement("link"),o=t||window.document.getElementsByTagName("script")[0],s=window.document.styleSheets;return i.rel="stylesheet",i.href=e,i.media="only x",o.parentNode.insertBefore(i,o),a(),i},e.addQueryString=function(e,t,n){return e+(/[\?]/.test(e)?"&":"?")+t+"="+n},e.getQueryString=function(e,t){var n=t||window.location.href,a=new RegExp("[?&]"+e+"=([^&#]*)","i"),i=a.exec(n);return i?i[1]:null},e.sanitizeClass=function(e,t){return e?(t=t?t+"-":"")+e.replace(/^[^a-z]+|[^\w:.-]+/gi,"-").toLowerCase():""},e.inject=function(e,t){var n=window.document.getElementsByTagName("script")[0],a=document.createElement(e);t.forEach((function(e,t){a.setAttribute(t,e)})),n.before(a)},e.extend=function(){var e={},t=!1;"boolean"==typeof arguments[0]&&(t=arguments[0],delete arguments[0]);var n=function(n){n.forEach((function(a,i){t&&"[object Object]"===Object.prototype.toString.call(n[a])?e[i]=extend(!0,e[i],a):e[i]=a}))};return arguments.forEach((function(e){n(e)})),e},e})(),loadPortal=(function(){"use strict";var e,t={},n={ajax:!0,ajaxIgnore:null,favicon:!1,faviconURL:"/files/favicon.ico",faviconSizes:"16x16 32x32",logo:null,responsive:!0,templates:{accountApps:function(){var e='<h1>{{content.headingMyApps}}</h1><ul id="nav-account">{{content.navItemsAccount}}</ul>';return Object.keys(mashery.content.main).length>0?mashery.content.main.forEach((function(t){e+="<h2>"+t.application+"</h2><ul><li>API: "+(t.api?t.api:"None")+"</li><li>Key: "+(t.key?t.key:"None")+"</li><li>Created: "+t.created+'</li></ul><p><a class="btn btn-edit-app" id="'+m$.sanitizeClass(t.application,"btn-edit-app")+'" href="'+t.edit+'">Edit This App</a><a class="btn btn-delete-app" id="'+m$.sanitizeClass(t.application,"btn-delete-app")+'" href="'+t.delete+'">Delete This App</a></p>'})):e+="{{content.noApps}}",mashery.content.secondary&&(e+='<p><a class="btn btn-get-app" id="btn-get-app" href="'+window.mashery.content.secondary+'">Create a New App</a></p>'),'<div class="main container container-small" id="main">'+e+"</div>"},accountEmail:'<div class="main container container-small" id="main"><h1>{{content.headingChangeEmail}}</h1><ul id="nav-account">{{content.navItemsAccount}}</ul><ul id="nav-mashery-account">{{content.navItemsMasheryAccount}}</ul>{{content.main}}</div>',accountEmailSuccess:'<div class="main container container-small" id="main"><h1>{{content.headingChangeEmailSuccess}}</h1><ul id="nav-account">{{content.navItemsAccount}}</ul><ul id="nav-mashery-account">{{content.navItemsMasheryAccount}}</ul>{{content.emailChanged}}</div>',accountKeys:function(){var e='<h1>{{content.headingMyApiKeys}}</h1><ul id="nav-account">{{content.navItemsAccount}}</ul>';return Object.keys(mashery.content.main).length>0?mashery.content.main.forEach((function(t){e+="<h2>"+t.name+"</h2>",t.keys.length>0?t.keys.forEach((function(t){var n=t.secret?"<li>Secret: "+t.secret+"</li>":"";e+="<p><strong>"+t.application+"</strong></p><ul><li>Key: "+t.key+"</li>"+n+"<li>Status: "+t.status+"</li><li>Created: "+t.created+"</li></ul>"+t.limits+'<p><a class="btn btn-delete-key" id="btn-delete-key" href="'+t.delete+'">Delete This Key</a></p>'})):(e+="<p>{{content.noPlanKeys}}</p>",mashery.content.secondary&&(e+='<p><a class="btn btn-get-key" id="'+m$.sanitizeClass(t.name,"btn-get-key")+'"  href="'+mashery.content.secondary+'">Get a Key for '+t.name+"</a></p>"))})):(e+="{{content.noKeys}}",mashery.content.secondary&&(e+='<p><a class="btn btn-get-key" id="btn-get-key" href="'+mashery.content.secondary+'">Get API Keys</a></p>')),'<div class="main container container-small" id="main">'+e+"</div>"},accountManage:'<div class="main container container-small" id="main"><h1>{{content.headingAccount}}</h1><ul id="nav-account">{{content.navItemsAccount}}</ul><ul id="nav-mashery-account">{{content.navItemsMasheryAccount}}</ul><h2>{{content.headingAccountInfo}}</h2>{{content.main}}</div>',accountPassword:'<div class="main container container-small" id="main"><h1>{{content.headingChangePassword}}</h1><ul id="nav-account">{{content.navItemsAccount}}</ul><ul id="nav-mashery-account">{{content.navItemsMasheryAccount}}</ul>{{content.main}}</div>',accountPasswordSuccess:'<div class="main container container-small" id="main"><h1>{{content.headingChangePasswordSuccess}}</h1><ul id="nav-account">{{content.navItemsAccount}}</ul><ul id="nav-mashery-account">{{content.navItemsMasheryAccount}}</ul>{{content.passwordChanged}}</div>',appRegister:'<div class="main container container-small" id="main"><h1>{{content.heading}}</h1><p>{{content.subheading}}</p>{{content.main}}</div>',appRegisterSuccess:'<div class="main container container-small" id="main"><h1>{{content.heading}}</h1>{{content.main}}</div>',blogAll:'<div class="main container" id="main"><p>Blog content needs to get created.</p></div>',blogSingle:'<div class="main container" id="main"><p>Blog content needs to get created.</p></div>',contact:'<div class="main container container-small" id="main"><h1>{{content.heading}}</h1><p>{{content.subheading}}</p>{{content.main}}</div>',contactSuccess:'<div class="main container container-small" id="main"><h1>{{content.heading}}</h1><p>{{content.main}}</p></div>',docs:'<div class="main container" id="main"><div class="row"><div class="grid-two-thirds">{{content.main}}</div><div class="grid-third"><h2>In the Docs</h2><ul>{{content.secondary}}</ul></div></div></div>',footer1:'<div class="footer-1 container" id="footer-1"><hr></div>',footer2:'<div class="footer-1 container" id="footer-2"><p>{{content.masheryMade}}</p></div>',forumAll:'<div class="main container" id="main"><p>The forum content needs to get created.</p></div>',fourOhFour:'<div class="main container container-small" id="main"><h1>{{content.heading}}</h1>{{content.main}}</div>',ioDocs:'<div class="main container container-small" id="main"><h1>{{content.heading}}</h1><p>{{content.subheading}}</p>{{content.main}}</div>',join:'<div class="main container container-small" id="main"><h1>{{content.heading}}</h1><p>{{content.subheading}}</p>{{content.main}}{{content.terms}}</div>',joinSuccess:'<div class="main container container-small" id="main"><h1>{{content.heading}}</h1><p>You have successfully registered as {{content.main}}. Read our <a href="/docs">API documentation</a> to get started. You can view your keys and applications under <a href="{{path.keys}}">My Account</a>.</p></div>',layout:'<a class="screen-reader screen-reader-focusable" href="#main">Skip to content</a>{{layout.navUser}}{{layout.navPrimary}}{{layout.main}}<footer class="footer" id="footer">{{layout.footer1}}{{layout.navSecondary}}{{layout.footer2}}</footer>',logout:'<div class="main container container-small" id="main"><h1>{{content.heading}}</h1><p>{{content.main}}</p></div>',logoutFail:'<div class="main container container-small" id="main"><h1>{{content.heading}}</h1><p>{{content.main}}</p></div>',lostPassword:'<div class="main container container-small" id="main"><h1>{{content.heading}}</h1><p>{{content.subheading}}</p>{{content.main}}</div>',lostPasswordReset:'<div class="main container container-small" id="main"><h1>{{content.heading}}</h1><p>{{content.main}}</p></div>',lostUsername:'<div class="main container container-small" id="main"><h1>{{content.heading}}</h1><p>{{content.subheading}}</p>{{content.main}}</div>',lostUsernameReset:'<div class="main container container-small" id="main"><h1>{{content.heading}}</h1><p>{{content.main}}</p></div>',memberRemove:'<div class="main container container-small" id="main"><h1>{{content.heading}}</h1><p>{{content.main}}</p><p><a class="btn btn-remove-member-confirm" id="btn-remove-member-confirm" href="{{path.removeMember}}">{{content.confirm}}</a><a class="btn btn-remove-member-cancel" id="btn-remove-member-cancel" href="{{path.account}}">{{content.cancel}}</a></p></div>',memberRemoveSuccess:'<div class="main container container-small" id="main"><h1>{{content.heading}}</h1><p>{{content.main}}</p></div>',noAccess:'<div class="main container container-small" id="main"><h1>{{content.heading}}</h1><p>{{content.main}}</p></div>',page:'<div class="main container" id="main">{{content.main}}</div>',profile:function(){var e="<h1>{{content.heading}}</h1>";return window.mashery.content.main.admin&&(e+='<p><a href="'+window.mashery.content.main.admin+'">View administrative profile for '+window.mashery.content.main.name+"</a></p>"),e+="<h2>{{content.headingUserInfo}}</h2><ul>",window.mashery.content.main.website&&(e+='<li><strong>{{content.userWebsite}}</strong> <a href="'+window.mashery.content.main.website+'">'+window.mashery.content.main.website+"</a></li>"),window.mashery.content.main.blog&&(e+='<li><strong>{{content.userBlog}}</strong> <a href="'+window.mashery.content.main.blog+'">'+window.mashery.content.main.blog+"</a></li>"),e+="<li><strong>{{content.userRegistered}}</strong> "+window.mashery.content.main.registered+"</li>",e+="</ul>",window.mashery.content.main.activity&&(e+="<h2>{{content.headingActivity}}</h2>"+window.mashery.content.main.activity),'<div class="main container" id="main">'+e+"</div>"},primaryNav:'<div class="nav-primary nav-wrap nav-collapse container padding-top-small padding-bottom-small" id="nav-primary"><a id="logo" class="logo" href="/">{{content.logo}}</a><a role="button" class="nav-toggle" id="nav-primary-toggle" data-nav-toggle="#nav-primary-menu" href="#">Menu</a><div class="nav-menu" id="nav-primary-menu"><ul class="nav" id="nav-primary-list">{{content.navItemsPrimary}}<li>{{content.searchForm}}</li></ul></div></div>',register:'<div class="main container" id="main"><div class="row"><div class="grid-two-thirds"><h1>{{content.heading}}</h1>{{content.subheading}}{{content.form}}{{content.terms}}</div><div class="grid-third">{{content.about}}</div></div></div>',registerSent:'<div class="main container container-small" id="main"><h1>{{content.heading}}</h1><p>We have sent a confirmation email to you at {{content.main}}.</p><p>Please click on the link in that e-mail to confirm your account. If you do not receive an email within the next hour, <a href="{{path.registerResendConfirmation}}">click here to resend confirmation email</a>.</p></div>',registerResend:'<div class="main container container-small" id="main"><h1>{{content.heading}}</h1><p>{{content.subheading}}</p>{{content.main}}</div>',registerResendSuccess:'<div class="main container container-small" id="main"><h1>{{content.heading}}</h1>{{content.main}}</div>',search:function(){var e="<h1>{{content.heading}}</h1>";return window.mashery.content.main?(e+="<p>{{content.meta}}</p>",window.mashery.content.main.forEach((function(t){e+='<div class="search-result"><h2 class="no-margin-bottom"><a href="'+t.url+'">'+t.title+"</a></h2><p>"+t.summary+'<br><a href="'+t.url+'">'+t.url+"</a></p></div>"})),e+='<div class="search-pagination">',window.mashery.content.secondary.pagePrevious&&(e+='<a href="'+window.mashery.content.secondary.pagePrevious+'">{{content.pagePrevious}}</a>'),window.mashery.content.secondary.pagePrevious&&window.mashery.content.secondary.pageNext&&(e+="{{content.pageDivider}}"),window.mashery.content.secondary.pageNext&&(e+='<a href="'+window.mashery.content.secondary.pageNext+'">{{content.pageNext}}</a>'),e+="</div>"):e+="{{content.noResults}}",'<div class="main container container-small" id="main">'+e+"</div>"},secondaryNav:'<div class="nav-secondary container" id="nav-secondary"><ul id="nav-secondary-list">{{content.navItemsSecondary}}</ul></div>',showSecret:'<div class="main container container-small" id="main"><h1>{{content.heading}}</h1>{{content.main}}</div>',showSecretSuccess:'<div class="main container container-small" id="main"><h1>{{content.heading}}</h1>{{content.main}}</div>',showSecretError:'<div class="main container container-small" id="main"><h1>{{content.heading}}</h1>{{content.main}}</div>',signin:'<div class="main container" id="main"><div class="row"><div class="grid-half"><h1>{{content.heading}}</h1>{{content.subheading}}{{content.form}}</div><div class="grid-half">{{content.about}}</div></div></div>',userNav:'<div class="nav-user container" id="nav-user"><ul class="nav-user-list list-inline text-small text-muted padding-top-small padding-bottom-small no-margin-bottom text-right" id="nav-user-list">{{content.navItemsUser}}</ul></div>'},labels:{account:{headingMyApiKeys:"My API Keys",headingMyApps:"My Apps",headingAccount:"Manage Account",headingAccountInfo:"Account Information",headingChangeEmail:"Change Email",headingChangeEmailSuccess:"Email Successfully Changed",headingChangePassword:"Change Password",headingChangePasswordSuccess:"Password Successfully Changed",keys:"Keys",apps:"Applications",account:"Manage Account",changeEmail:"Change Email",changePassword:"Change Password",viewProfile:"View My Public Profile",removeMembership:"Remove Membership from {{mashery.area}}",noKeys:"You don't have any keys yet.",noPlanKeys:"You have not been issued keys for this API.",noApps:"You don't have any apps yet.",emailChanged:"<p>An email confirming your change has been sent to the address you provided with your username. Please check your spam folder if you don't see it in your inbox.</p>",passwordChanged:"<p>An email confirming your change has been sent to the address you provided with your username. If you use this account on other Mashery powered portals, remember to use your new password.</p>"},appRegister:{heading:"Register an Application",subheading:"Get a key and register your application using the form below to start working with our APIs."},appRegisterSuccess:{heading:"Your application was registered!",main:'<p>An email has been sent to you with your key and application details. You can also view them at any time from the <a href="{{path.keys}}">My Account</a> page.</p><p>To get started using your API keys, dig into <a href="{{path.docs}}">our documentation</a>. We look forward to seeing what you create!</p>'},contact:{heading:"Contact Us",subheading:"Contact us using the form below."},contactSuccess:{heading:"Thanks for your submission!",main:"Your message will be forwarded to the appropriate group."},fourOhFour:{heading:"Unable to find this page",main:"<p>We're unable to find this page. Sorry! Please check the URL, or contact us to report a broken link.</p>"},ioDocs:{heading:"Interactive API",subheading:"Test our API services with IO-Docs, our interactive API documentation."},join:{heading:"Join {{mashery.area}}",subheading:"Since you already have a Mashery account you don't have to register again, but we would like to know a little more about you. Please fill out the additional information below."},joinSuccess:{heading:"Registration Successful"},logout:{heading:"Signed Out",main:"You have successfully signed out. Come back soon!"},logoutFail:{heading:"Sign Out Failed",main:'Your attempt to sign out failed. <a href="{{path.logout}}">Please try again.</a>'},lostPassword:{heading:"Recover Your Password",subheading:"Enter the email address and username that you registered with and we will send you a link to reset your password."},lostPasswordReset:{heading:"Email Sent",main:"An email has been sent to the address you provided. Click on the link in the e-mail to reset your password. Please check your spam folder if you don't see it in your inbox."},lostUsername:{heading:"Recover Your Username",subheading:"Enter the email address you used to register and we will send you an email with your username."},lostUsernameReset:{heading:"Email Sent",main:"An email has been sent containing your username details. Please check your spam folder if you don't see it in your inbox."},memberRemove:{heading:"Remove membership from {{mashery.area}}",main:"Removing membership disables your account and you will not be able to register again using the same username. All your keys will be deactivated.",confirm:"Remove Membership",cancel:"Cancel",popup:"Please confirm that you wish to permanently disable your membership with this service."},memberRemoveSuccess:{heading:"Your account has been removed.",main:"Enjoy the rest of your day!"},noAccess:{heading:"You don't have access to this content",main:'<p>If you\'re not logged in yet, try <a href="{{paths.signin}}">logging in</a> or <a href="{{path.register}}">registering for an account</a>.</p>'},profile:{heading:"{{mashery.username}}",headingUserInfo:"User Information",headingActivity:"Recent Activity",userWebsite:"Website:",userBlog:"Blog:",userRegistered:"Registered:"},register:{heading:"Register for an Account",subheading:"<p>Register a new Mashery ID to access {{mashery.area}}.</p>",privacyPolicy:"",sidebar:"<h2>No Spam Guarantee</h2><p>We hate spam. We love our users. We promise to never sell or share any of your private information.</p>",submit:"Register"},registerSent:{heading:"Registration Almost Complete"},registerResend:{heading:"Resend Your Confirmation Email",subheading:"Enter your username and email address to have your registration confirmation email resent to you."},registerResendSuccess:{heading:"Success",main:"Your confirmation email was resent."},search:{button:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32"><title>Search</title><path d="M31.008 27.231l-7.58-6.447c-.784-.705-1.622-1.029-2.299-.998a11.954 11.954 0 0 0 2.87-7.787c0-6.627-5.373-12-12-12s-12 5.373-12 12 5.373 12 12 12c2.972 0 5.691-1.081 7.787-2.87-.031.677.293 1.515.998 2.299l6.447 7.58c1.104 1.226 2.907 1.33 4.007.23s.997-2.903-.23-4.007zM12 20a8 8 0 1 1 0-16 8 8 0 0 1 0 16z"/></svg>',placeholder:"Search...",heading:'Search Results for "{{content.query}}"',meta:'Showing {{content.first}} to {{content.last}} of {{content.total}} results for "{{content.query}}"',noResults:'Your search for "{{content.query}}" returned no results.',pagePrevious:"&larr; Previous Page",pageNext:"Next Page &rarr;",pageDivider:" | "},showSecret:{heading:"Email Sent",main:"<p>An email has been sent to the email address associated with your account. Click on the link in the email to display all of your shared secrets for 30 days. Please check your spam folder if you don't see it in your inbox.</p>"},showSecretSuccess:{heading:"Your shared secrets are now visible",main:"<p>Shared secrets will be visible for the next 30 days. After 30 days, they will be hidden again for PCI compliance.</p>"},showSecretError:{heading:"Your shared secrets are already visible",main:'<p><a href="{{path.keys}}">Click here</a> to view them.</p>'},signin:{heading:"Sign In",subheading:"<p>Sign in to {{mashery.area}} using your Mashery ID.</p>",sidebar:'<h2>Register</h2><p><a href="{{path.register}}">Create an account</a> to access stagingcs9.mashery.com. Your account information can then be used to access other APIs on the Mashery API Network.</p><h2>What is Mashery?</h2><p><a href="http://mashery.com">Mashery</a> powers APIs of leading brands in retail, media, business services, software, and more. By signing in to a Mashery powered portal, you can gain access to Mashery\'s base of API providers. All with a single Mashery ID.</p><p><a class="btn btn-user-register" id="btn-user-register" href="{{path.register}}">Register a Mashery ID</a></p>',submit:"Sign In"},title:"{{mashery.title}} | {{mashery.area}}",userNav:{signin:"Sign In",register:"Register",account:"My Account",dashboard:"Dashboard",signout:"Sign Out"}},callbacks:{beforeInit:function(){},afterInit:function(){},beforeRender:function(){},afterRender:function(){},beforeRenderLayout:function(){},afterRenderLayout:function(){},beforeRenderUserNav:function(){},afterRenderUserNav:function(){},beforeRenderPrimaryNav:function(){},afterRenderPrimaryNav:function(){},beforeRenderMain:function(){},afterRenderMain:function(){},beforeRenderSecondaryNav:function(){},afterRenderSecondaryNav:function(){},beforeRenderFooter:function(){},afterRenderFooter:function(){}}},a={accountApps:{placeholder:"{{path.apps}}",url:"/apps/myapps"},accountKeys:{placeholder:"{{path.keys}}",url:"/apps/mykeys"},accountManage:{placeholder:"{{path.account}}",url:"/member/edit"},changeEmail:{placeholder:"{{path.changeEmail}}",url:"/member/email"},changePassword:{placeholder:"{{path.changePassword}}",url:"/member/passwd"},contact:{placeholder:"{{path.contact}}",url:"/contact"},dashboard:{placeholder:"{{path.dashboard}}",url:function(){return window.mashery.dashboard?window.mashery.dashboard:"#"}},docs:{placeholder:"{{path.docs}}",url:"/docs"},ioDocs:{placeholder:"{{path.iodocs}}",url:"/io-docs"},logout:{placeholder:"{{path.logout}}",url:"/logout/logout"},lostPassword:{placeholder:"{{path.lostPassword}}",url:"/member/lost"},lostUsername:{placeholder:"{{path.lostUsername}}",url:"/member/lost-username"},memberRemove:{placeholder:"{{path.removeMember}}",url:"/member/remove?action=removeMember"},register:{placeholder:"{{path.register}}",url:"/member/register"},registerResendConfirmation:{placeholder:"{{path.registerResendConfirmation}}",url:"/member/resend-confirmation"},removeMembership:{placeholder:"{{path.removeMembership}}",url:"/member/remove"},search:{placeholder:"{{path.search}}",url:"/search"},signin:{placeholder:"{{path.signin}}",url:function(){return window.mashery.login.url+window.mashery.login.redirect}},viewProfile:{placeholder:"{{path.viewProfile}}",url:function(){return window.mashery.userProfile?window.mashery.userProfile:"/profile/profile"}}},i={account:{account:{placeholder:"{{content.account}}",text:function(){return e.labels.account.account}},apps:{placeholder:"{{content.apps}}",text:function(){return e.labels.account.apps}},headingAccount:{placeholder:"{{content.headingAccount}}",text:function(){return e.labels.account.headingAccount}},headingAccountInfo:{placeholder:"{{content.headingAccountInfo}}",text:function(){return e.labels.account.headingAccountInfo}},headingChangeEmail:{placeholder:"{{content.headingChangeEmail}}",text:function(){return e.labels.account.headingChangeEmail}},headingChangeEmailSuccess:{placeholder:"{{content.headingChangeEmailSuccess}}",text:function(){return e.labels.account.headingChangeEmailSuccess}},headingChangePassword:{placeholder:"{{content.headingChangePassword}}",text:function(){return e.labels.account.headingChangePassword}},headingChangePasswordSuccess:{placeholder:"{{content.headingChangePasswordSuccess}}",text:function(){return e.labels.account.headingChangePasswordSuccess}},headingMyApiKeys:{placeholder:"{{content.headingMyApiKeys}}",text:function(){return e.labels.account.headingMyApiKeys}},headingMyApps:{placeholder:"{{content.headingMyApps}}",text:function(){return e.labels.account.headingMyApps}},keys:{placeholder:"{{content.keys}}",text:function(){return e.labels.account.keys}},noApps:{placeholder:"{{content.noApps}}",text:function(){return e.labels.account.noApps}},noKeys:{placeholder:"{{content.noKeys}}",text:function(){return e.labels.account.noKeys}},noPlanKeys:{placeholder:"{{content.noPlanKeys}}",text:function(){return e.labels.account.noPlanKeys}},emailChanged:{placeholder:"{{content.emailChanged}}",text:function(){return e.labels.account.emailChanged}},passwordChanged:{placeholder:"{{content.passwordChanged}}",text:function(){return e.labels.account.passwordChanged}}},appRegister:{heading:{placeholder:"{{content.heading}}",text:function(){return e.labels.appRegister.heading}},subheading:{placeholder:"{{content.subheading}}",text:function(){return e.labels.appRegister.subheading}}},appRegisterSuccess:{heading:{placeholder:"{{content.heading}}",text:function(){return e.labels.appRegisterSuccess.heading}},main:{placeholder:"{{content.main}}",text:function(){return e.labels.appRegisterSuccess.main}}},contact:{heading:{placeholder:"{{content.heading}}",text:function(){return e.labels.contact.heading}},subheading:{placeholder:"{{content.subheading}}",text:function(){return e.labels.contact.subheading}}},contactSuccess:{heading:{placeholder:"{{content.heading}}",text:function(){return e.labels.contactSuccess.heading}},main:{placeholder:"{{content.main}}",text:function(){return e.labels.contactSuccess.main}}},fourOhFour:{heading:{placeholder:"{{content.heading}}",text:function(){return e.labels.fourOhFour.heading}},main:{placeholder:"{{content.main}}",text:function(){return e.labels.fourOhFour.main}}},ioDocs:{heading:{placeholder:"{{content.heading}}",text:function(){return e.labels.ioDocs.heading}},subheading:{placeholder:"{{content.subheading}}",text:function(){return e.labels.ioDocs.subheading}}},join:{heading:{placeholder:"{{content.heading}}",text:function(){return e.labels.join.heading}},subheading:{placeholder:"{{content.subheading}}",text:function(){return e.labels.join.subheading}}},joinSuccess:{heading:{placeholder:"{{content.heading}}",text:function(){return e.labels.joinSuccess.heading}}},layout:{footer1:{placeholder:"{{layout.footer1}}",text:'<div id="footer-1-wrapper"></div>'},footer2:{placeholder:"{{layout.footer2}}",text:'<div id="footer-2-wrapper"></div>'},main:{placeholder:"{{layout.main}}",text:'\x3c!-- tabindex="-1" hack for skipnav link: https://code.google.com/p/chromium/issues/detail?id=37721 --\x3e<main class="tabindex" tabindex="-1" id="main-wrapper"></main>'},navPrimary:{placeholder:"{{layout.navPrimary}}",text:'<nav id="nav-primary-wrapper"></nav>'},navSecondary:{placeholder:"{{layout.navSecondary}}",text:'<nav id="nav-secondary-wrapper"></nav>'},navUser:{placeholder:"{{layout.navUser}}",text:'<nav id="nav-user-wrapper"></nav>'}},logout:{heading:{placeholder:"{{content.heading}}",text:function(){return e.labels.logout.heading}},main:{placeholder:"{{content.main}}",text:function(){return e.labels.logout.main}}},logoutFail:{heading:{placeholder:"{{content.heading}}",text:function(){return e.labels.logoutFail.heading}},main:{placeholder:"{{content.main}}",text:function(){return e.labels.logoutFail.main}}},lostPassword:{heading:{placeholder:"{{content.heading}}",text:function(){return e.labels.lostPassword.heading}},subheading:{placeholder:"{{content.subheading}}",text:function(){return e.labels.lostPassword.subheading}}},lostPasswordReset:{heading:{placeholder:"{{content.heading}}",text:function(){return e.labels.lostPasswordReset.heading}},main:{placeholder:"{{content.main}}",text:function(){return e.labels.lostPasswordReset.main}}},lostUsername:{heading:{placeholder:"{{content.heading}}",text:function(){return e.labels.lostUsername.heading}},subheading:{placeholder:"{{content.subheading}}",text:function(){return e.labels.lostUsername.subheading}}},lostUsernameReset:{heading:{placeholder:"{{content.heading}}",text:function(){return e.labels.lostUsernameReset.heading}},main:{placeholder:"{{content.main}}",text:function(){return e.labels.lostUsernameReset.main}}},memberRemove:{cancel:{placeholder:"{{content.cancel}}",text:function(){return e.labels.memberRemove.cancel}},confirm:{placeholder:"{{content.confirm}}",text:function(){return e.labels.memberRemove.confirm}},heading:{placeholder:"{{content.heading}}",text:function(){return e.labels.memberRemove.heading}},main:{placeholder:"{{content.main}}",text:function(){return e.labels.memberRemove.main}},popup:{placeholder:"{{content.popup}}",text:function(){return e.labels.memberRemove.popup}}},memberRemoveSuccess:{heading:{placeholder:"{{content.heading}}",text:function(){return e.labels.memberRemoveSuccess.heading}},main:{placeholder:"{{content.main}}",text:function(){return e.labels.memberRemoveSuccess.main}}},noAccess:{heading:{placeholder:"{{content.heading}}",text:function(){return e.labels.noAccess.heading}},main:{placeholder:"{{content.main}}",text:function(){return e.labels.noAccess.main}}},profile:{heading:{placeholder:"{{content.heading}}",text:function(){return e.labels.profile.heading}},headingUserInfo:{placeholder:"{{content.headingUserInfo}}",text:function(){return e.labels.profile.headingUserInfo}},headingActivity:{placeholder:"{{content.headingActivity}}",text:function(){return e.labels.profile.headingActivity}},userWebsite:{placeholder:"{{content.userWebsite}}",text:function(){return e.labels.profile.userWebsite}},userBlog:{placeholder:"{{content.userBlog}}",text:function(){return e.labels.profile.userBlog}},userRegistered:{placeholder:"{{content.userRegistered}}",text:function(){return e.labels.profile.userRegistered}}},register:{about:{placeholder:"{{content.about}}",text:function(){return e.labels.register.sidebar}},form:{placeholder:"{{content.form}}",text:function(){return window.mashery.content.main}},heading:{placeholder:"{{content.heading}}",text:function(){return e.labels.register.heading}},subheading:{placeholder:"{{content.subheading}}",text:function(){return e.labels.register.subheading}}},registerSent:{heading:{placeholder:"{{content.heading}}",text:function(){return e.labels.registerSent.heading}}},registerResend:{heading:{placeholder:"{{content.heading}}",text:function(){return e.labels.registerResend.heading}},subheading:{placeholder:"{{content.subheading}}",text:function(){return e.labels.registerResend.subheading}}},registerResendSuccess:{heading:{placeholder:"{{content.heading}}",text:function(){return e.labels.registerResendSuccess.heading}},main:{placeholder:"{{content.main}}",text:function(){return e.labels.registerResendSuccess.main}}},search:{heading:{placeholder:"{{content.heading}}",text:function(){return e.labels.search.heading}},meta:{placeholder:"{{content.meta}}",text:function(){return e.labels.search.meta}},noResults:{placeholder:"{{content.noResults}}",text:function(){return e.labels.search.noResults}},query:{placeholder:"{{content.query}}",text:function(){return window.mashery.content.secondary.query}},first:{placeholder:"{{content.first}}",text:function(){return window.mashery.content.secondary.first}},last:{placeholder:"{{content.last}}",text:function(){return window.mashery.content.secondary.last}},total:{placeholder:"{{content.total}}",text:function(){return window.mashery.content.secondary.total}},pagePrevious:{placeholder:"{{content.pagePrevious}}",text:function(){return e.labels.search.pagePrevious}},pageNext:{placeholder:"{{content.pageNext}}",text:function(){return e.labels.search.pageNext}},pageDivider:{placeholder:"{{content.pageDivider}}",text:function(){return e.labels.search.pageDivider}}},showSecret:{heading:{placeholder:"{{content.heading}}",text:function(){return e.labels.showSecret.heading}},main:{placeholder:"{{content.main}}",text:function(){return e.labels.showSecret.main}}},showSecretSuccess:{heading:{placeholder:"{{content.heading}}",text:function(){return e.labels.showSecretSuccess.heading}},main:{placeholder:"{{content.main}}",text:function(){return e.labels.showSecretSuccess.main}}},showSecretError:{heading:{placeholder:"{{content.heading}}",text:function(){return e.labels.showSecretError.heading}},main:{placeholder:"{{content.main}}",text:function(){return e.labels.showSecretError.main}}},signin:{about:{placeholder:"{{content.about}}",text:function(){return e.labels.signin.sidebar}},form:{placeholder:"{{content.form}}",text:function(){return window.mashery.content.main}},heading:{placeholder:"{{content.heading}}",text:function(){return e.labels.signin.heading}},subheading:{placeholder:"{{content.subheading}}",
text:function(){return e.labels.signin.subheading}}}},o={area:{placeholder:"{{mashery.area}}",text:function(){return window.mashery.area}},contentMain:{placeholder:"{{content.main}}",text:function(){return window.mashery.content.main}},contentSecondary:{placeholder:"{{content.secondary}}",text:function(){return window.mashery.content.secondary}},logo:{placeholder:"{{content.logo}}",text:function(){return e.logo?e.logo:window.mashery.area}},navItemsAccount:{placeholder:"{{content.navItemsAccount}}",text:function(){return c()}},navItemsMasheryAccount:{placeholder:"{{content.navItemsMasheryAccount}}",text:function(){return l()}},navItemsPrimary:{placeholder:"{{content.navItemsPrimary}}",text:function(){return d(window.mashery.content.navPrimary)}},navItemsSecondary:{placeholder:"{{content.navItemsSecondary}}",text:function(){return d(window.mashery.content.navSecondary)}},navItemsUser:{placeholder:"{{content.navItemsUser}}",text:function(){return r()}},masheryMade:{placeholder:"{{content.masheryMade}}",text:'<a id="mashery-made-logo" href="http://mashery.com"><img src="https://support.mashery.com/public/Mashery/images/masherymade.png"></a>'},privacyPolicy:{placeholder:"{{content.privacyPolicy}}",text:function(){return e.labels.register.privacyPolicy}},registerTerms:{placeholder:"{{content.terms}}",text:function(){return'<div id="registration-terms-of-service"><p>By clicking the "Register" button, I certify that I have read and agree to {{content.privacyPolicy}}the <a href="http://www.mashery.com/terms/">Mashery Terms of Service</a> and <a href="http://www.mashery.com/privacy/">Privacy Policy</a>.</p></div>'}},searchForm:{placeholder:"{{content.searchForm}}",text:function(){return'<form id="search-form" class="search-form" method="get" action="/search"><input class="search-input" id="search-input" type="text" value="" placeholder="'+e.labels.search.placeholder+'" name="q"><button class="search-button" id="search-button" type="submit">'+e.labels.search.button+"</button></form>"}},title:{placeholder:"{{mashery.title}}",text:function(){var e=m$.get("h1");return e?e.innerHTML.trim():window.mashery.title.replace(window.mashery.area+" - ","").replace(window.mashery.area,"")}},username:{placeholder:"{{mashery.username}}",text:function(){return window.mashery.username}}},s=function(e,t){if(e="[object Function]"===Object.prototype.toString.call(e)?e():e,t){var n=/account/.test(t)?"account":t;i[n]&&i[n].forEach((function(t){t.placeholder&&t.text&&(e=e.replace(new RegExp(t.placeholder,"g"),t.text))}))}return a.forEach((function(t){t.placeholder&&t.url&&(e=e.replace(new RegExp(t.placeholder,"g"),t.url))})),o.forEach((function(t){t.placeholder&&t.text&&(e=e.replace(new RegExp(t.placeholder,"g"),t.text))})),e},r=function(){var t;return t=mashery.loggedIn?'<li id="nav-user-myaccount"><a href="{{path.keys}}">'+e.labels.userNav.account+"</a></li>"+(mashery.isAdmin?'<li><a href="{{path.dashboard}}">'+e.labels.userNav.dashboard+"</a></li>":"")+'<li id="nav-user-signout"><a href="{{path.logout}}">'+e.labels.userNav.signout+"</a></li>":'<li id="nav-user-signin"><a href="{{path.signin}}">'+e.labels.userNav.signin+'</a></li><li id="nav-user-register"><a href="{{path.register}}">'+e.labels.userNav.register+"</a></li>",s(t)},c=function(){var t='<li><a href="{{path.keys}}">'+e.labels.account.keys+'</a></li><li><a href="{{path.apps}}">'+e.labels.account.apps+'</a></li><li><a href="{{path.account}}">'+e.labels.account.account+"</a></li>";return s(t)},l=function(){var t='<li><a href="{{path.changeEmail}}">'+e.labels.account.changeEmail+'</a></li><li><a href="{{path.changePassword}}">'+e.labels.account.changePassword+'</a></li><li><a href="{{path.viewProfile}}">'+e.labels.account.viewProfile+'</a></li><li><a href="{{path.removeMembership}}">'+e.labels.account.removeMembership+"</a></li>";return s(t)},d=function(e){var t="";return e.forEach((function(e){t+='<li><a href="'+decodeURIComponent(e.url)+'">'+e.label+"</a></li>"})),t},u=function(){m$.loadJS("/public/Mashery/scripts/Iodocs/prettify.js",(function(){m$.loadJS("/public/Mashery/scripts/Mashery/beautify.js",(function(){m$.loadJS("/public/Mashery/scripts/vendor/alpaca.min.js",(function(){m$.loadJS("/public/Mashery/scripts/Iodocs/utilities.js",(function(){m$.loadJS("/public/Mashery/scripts/Iodocs/iodocs.js",(function(){m$.loadJS("/public/Mashery/scripts/Mashery/ace/ace.js")}),!0)}),!0)}),!0)}),!0)}),!0)},h=function(){"ioDocs"===window.mashery.contentType&&("jQuery"in window?u():loadJS("https://ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js",u))},p=function(t,n,a,i){var o=m$.get(t);if(o){if(a&&a(),o.innerHTML=e.templates[n]?s(e.templates[n],n):"",["page","docs"].indexOf(-1!==window.mashery.contentType)){m$.getAll("#header-edit, #main .section .section-meta").forEach((function(e){e.remove()}))}i&&i()}};t.verifyLoggedIn=function(){if(-1!==["logout","memberRemoveSuccess"].indexOf(window.mashery.contentType)){m$.get("#mashery-logout-form",window.mashery.dom)||(window.mashery.loggedIn=!1,window.mashery.username=null,window.mashery.isAdmin=!1,window.mashery.dashboard=null,window.mashery.logout=null)}};var m=function(t){t||(m$.inject("meta",{"http-equiv":"X-UA-Compatible",content:"IE=edge,chrome=1"}),e.responsive&&m$.inject("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),e.favicon&&e.faviconURL&&(m$.inject("link",{rel:"shortcut icon",href:e.faviconURL}),m$.inject("link",{rel:"icon",sizes:e.faviconSizes,href:e.faviconURL})))};t.addStyleHooks=function(){var e=m$.get("#app-wrapper");if(e){var t=-1===["/","/home"].indexOf(window.location.pathname.toLowerCase())?window.location.pathname.slice(1):"home";e.className=m$.sanitizeClass(window.mashery.contentType,"category")+" "+m$.sanitizeClass(t,"single"),window.mashery.contentId=m$.sanitizeClass(t)}},t.renderLayout=function(){p("#app","layout",e.callbacks.beforeRenderLayout,e.callbacks.afterRenderLayout),t.verifyLoggedIn()},t.renderTitle=function(){document.title=s(e.labels.title,window.mashery.contentType)},t.renderUserNav=function(){p("#nav-user-wrapper","userNav",e.callbacks.beforeRenderUserNav,e.callbacks.afterRenderUserNav)},t.renderPrimaryNav=function(){p("#nav-primary-wrapper","primaryNav",e.callbacks.beforeRenderPrimaryNav,e.callbacks.afterRenderPrimaryNav)},t.renderSecondaryNav=function(){p("#nav-secondary-wrapper","secondaryNav",e.callbacks.beforeRenderSecondaryNav,e.callbacks.afterRenderSecondaryNav)},t.renderFooter=function(){e.callbacks.beforeRenderFooter(),p("#footer-1-wrapper","footer1"),p("#footer-2-wrapper","footer2"),e.callbacks.afterRenderFooter()},t.renderMain=function(){h(),p("#main-wrapper",window.mashery.contentType,e.callbacks.beforeRenderMain,e.callbacks.afterRenderMain)};var f=function(){window.mashery.logout&&!m$.get("#mashery-logout-form")&&document.body.insertBefore(window.mashery.logout,document.body.lastChild)},g=function(){if("memberRemove"===window.mashery.contentType&&!m$.get("#member-remove-form")){var e=m$.get(".main form",window.mashery.dom);if(e){e.id="member-remove-form",e.setAttribute("hidden","hidden");var t=m$.get("#process",e);t&&t.setAttribute("onclick",'return confirm("'+i.memberRemove.popup.text()+'")'),document.body.lastChild.before(e)}}},y=function(){window.location.hash?window.location.hash=window.location.hash:m$.get("#app").focus()},v=function(){"ioDocs"!==window.mashery.contentType||window.masheryIsAjax||window.masheryIsReloaded||(window.masheryIsReloaded=!0,A(window.location.href,!0))};t.renderMasheryMade=function(){if(!m$.get("#mashery-made-logo")){var e=m$.get("#app");if(e){var t=document.createElement("div");t.innerHTML='<p>x</p><div id="mashery-made"><div class="container"><p>'+o["{{content.masheryMade}}"]+"</p></div></div>",e.appendChild(t.childNodes[1])}}},t.renderTOS=function(){if(-1!==["register","join"].indexOf(window.mashery.contentType)){if(!m$.get("#registration-terms-of-service")){var e=m$.get('form[action*="/member/register"]');if(e){var t=document.createElement("div");t.innerHTML="<p>x</p>"+s(o["{{content.terms}}"],"register"),e.appendChild(t.childNodes[1])}}}};var w=function(e,n,a){setupMashery(e),window.masheryIsAjax=!0,getContent(window.mashery.contentType),a&&window.history.pushState({url:n},e.title,n),t.renderPortal(!0)},A=function(e,t){atomic.ajax({url:e,responseType:"document"}).success((function(n){w(n,e,t)})).error((function(n,a){if(404===a.status)return void w(n,e,t);window.location=e}))},b=function(t){!e.ajax||e.ajaxIgnore&&t.target.matches(e.ajaxIgnore)||t.target.closest('.clear-results, h4 .select-all, #toggleEndpoints, #toggleMethods, [href*="/io-docs"]')||"a"===t.target.tagName.toLowerCase()&&t.target.href&&t.target.hostname===window.location.hostname&&"memberRemoveSuccess"!==window.mashery.contentType&&(t.target.pathname===window.location.pathname&&t.target.hash.length>0||0!==t.button||t.metaKey||t.ctrlKey||(t.preventDefault(),A(t.target.href,!0)))};t.renderPortal=function(n){e.callbacks.beforeRender(),document.documentElement.classList.add("rendering"),m(n),t.addStyleHooks(),t.renderLayout(),t.renderUserNav(),t.renderPrimaryNav(),t.renderSecondaryNav(),t.renderMain(),t.renderTitle(),t.renderFooter(),y(),f(),g(),t.renderMasheryMade(),t.renderTOS(),e.callbacks.afterRender(),v(),document.documentElement.classList.remove("loading"),document.documentElement.classList.remove("rendering")};var x=function(e){var t=m$.get("#mashery-logout-form");t&&(e.preventDefault(),t.submit())},$=function(e){var t=m$.get("#member-remove-form #process");t&&"memberRemove"===window.mashery.contentType&&(e.preventDefault(),m$.click(t))},S=function(e){return e.target.closest('a[href*="'+a.logout.url+'"]')?void x(e):e.target.closest('a[href*="'+a.memberRemove.url+'"]')?void $(e):void b(e)},k=function(e){var t=e.state&&e.state.url?e.state.url:window.location.href;A(t)},C=function(t){if(t.target.closest("#search-form")&&e.ajax){var n=m$.get("#search-input",t.target);n&&(t.preventDefault(),A(a.search.url+"?q="+encodeURIComponent(n.value),!0))}};return t.init=function(a){m$.loadJS("https://cdn.polyfill.io/v2/polyfill.min.js?features=default",(function(){e=m$.extend(n,a||{}),e.callbacks.beforeInit(),t.renderPortal(),m$.on("click",S),e.ajax&&(m$.on("popstate",k),m$.on("submit",C)),e.callbacks.afterInit()}))},t})(),ioDocs=(function(){"use strict";var e={};apiDescriptionListBoxes=".apiDescriptionList",apiSelectBox="#apiId",apiTitle="#apiTitle",apiCredentialBox=".credentials",apiCredentialForm="#credentials",apiKeyInput="#apiKey",apiSecretInput="#apiSecret",apiKeySecretInput="#apiKeySecret",showManualKeySecret="#showManualKeySecret",emControlBox="#controls",apiEndpointListBoxes=".endpointList",toggleEndpointsLink="#toggleEndpoints",toggleMethodsLink="#toggleMethods",apiOAuth2FlowType="#apiOAuth2FlowType",apiOAuth2AuthBtn="#apiOAuth2AuthorizationButton",apiOAuth2ImplABtn="#apiOAuth2ImplicitExchangeButton",apiOAuth2CCBtn="#apiOAuth2AuthClientCredExchangeButton",apiOAuth2PCBtn="#apiOAuth2AuthPassCredExchangeButton",apiOAuth2AccessBtn="#apiOAuth2AuthExchangeButton",apiBasicAuthName="#apiBasicAuthUsername",apiBasicAuthPass="#apiBasicAuthPassword",apiSoapBasicAuthName="#apiSoapBasicAuthUsername",apiSoapBasicAuthPass="#apiSoapBasicAuthPassword",apiSoapWssUserNameTokenAuthName="#apiSoapWssUserNameTokenAuthUsername",apiSoapWssBinarySecurityTokenAuthToken="#apiSoapWssBinarySecurityTokenAuthToken";var t,n;return e.selectApiById=function(t){if(document.querySelectorAll().forEach((function(e){e.setAttribute("data-is-selected",!1)})),!t)return e.hideAll();document.querySelectorAll(apiEndpointListBoxes+"#api"+t+", "+apiDescriptionListBoxes+"#apiDescription"+t).forEach((function(e){e.setAttribute("data-is-selected",!0)})),e.showApiCredentialBox(t),e.showApiDescriptionBox(),e.showEMControlBox(),e.hideAllUnselectedApiEndpointLists(),e.showSelectedApiEndpointList(),e.showAllSelectedEndpoints()},e.getSelectedApiEndpointListBox=function(){return document.querySelector(apiEndpointListBoxes+'[data-is-selected="true"]')},e.getSelectedApiId=function(){return e.getSelectedApiEndpointListBox().getAttribute("data-api-id")},e.showApiDescriptionBox=function(){e.hideApiDescriptionBox(),document.querySelectorAll(apiDescriptionListBoxes+"#apiDescription"+e.getSelectedApiId()+":hidden").forEach((function(e){e.style.display="block"}))},e.hideApiDescriptionBox=function(){document.querySelectorAll(apiDescriptionListBoxes+":not(#apiDescription"+e.getSelectedApiId()+"):visible").forEach((function(e){e.style.display="none"}))},e.showEMControlBox=function(){document.querySelectorAll(emControlBox+":hidden").forEach((function(e){e.style.display="block"}))},e.hideEMControlBox=function(){document.querySelectorAll(emControlBox+":visible").forEach((function(e){e.style.display="none"}))},e.showSelectedApiEndpointList=function(){document.querySelectorAll(apiEndpointListBoxes+"#api"+e.getSelectedApiId()+":hidden").forEach((function(e){e.style.display="block"}))},e.hideAllApiEndpointLists=function(){document.querySelectorAll(apiEndpointListBoxes+":visible").forEach((function(e){e.style.display="none"}))},e.hideAllUnselectedApiEndpointLists=function(){document.querySelectorAll(apiEndpointListBoxes+":not(#api"+e.getSelectedApiId()+"):visible").forEach((function(e){e.style.display="none"}))},e.toggleAllSelectedEndpoints=function(){console.log("Need to do this later")},e.showAllSelectedEndpoints=function(){document.querySelectorAll(apiEndpointListBoxes+" .endpoint:visible > .methods:hidden").forEach((function(e){e.style.display="block"}))},e.toggleAllSelectedMethods=function(){var t=document.querySelectorAll(apiEndpointListBoxes+" .endpoint:visible > .methods");e.showAllSelectedEndpoints();t.querySelectorAll(".method:visible > form");console.log("need to do this, too")},e.showAllSelectedMethods=function(){document.querySelectorAll(apiEndpointListBoxes+" .endpoint:visible .method:visible > form:hidden").forEach((function(e){e.style.display="block"}))},e.hideAllSelectedMethods=function(){document.querySelectorAll(apiEndpointListBoxes+" .endpoint.visible .method:visible > form:visible").forEach((function(e){e.style.display="none"}))},e.hideAll=function(){e.hideAllApiCredentialBoxes(),e.hideApiDescriptionBox(),e.hideEMControlBox(),e.hideAllApiEndpointLists()},e.initApiSchemas=function(){var t=!1;document.querySelectorAll(apiEndpointListBoxes).forEach((function(n){if(!t){t=!0;for(var a in Array.prototype)Array.prototype.hasOwnProperty(a)&&delete Array.prototype[a]}var i=$.data($(this).get(0),"apiSchemas");i&&!$.isEmptyObject(i)&&$.each(i,(function(t,n){n.title||(n.title=t),e.initApiSchemaProperties(n.properties)}))}))},e.initApiSchemaProperties=function(t){t&&$.each(t,(function(t,n){n.title||(n.title=t.replace(/([a-z])([A-Z])/g,"$1 $2").replace(/^./,(function(e){return e.toUpperCase()}))),n.$ref&&0!==n.$ref.indexOf("#")&&(n.$ref="#/definitions/"+n.$ref),n.items&&n.items.$ref&&0!==n.items.$ref.indexOf("#")&&(n.items.$ref="#/definitions/"+n.items.$ref),"object"===n.type?e.initApiSchemaProperties(n.properties):"array"===n.type&&e.initApiSchemaProperties(n.items.properties)}))},e.initRequestBodyAlpacaForms=function(){function e(t){var n={};return t.properties&&$.each(t.properties,(function(t,a){if("array"===a.type){var i=e(a.items);n[t]||(n[t]={items:{}}),n[t].toolbarSticky=!0,n[t].fieldClass="iodoc-array-field",n[t].items.showMoveUpItemButton=!1,n[t].items.showMoveDownItemButton=!1,$.isEmptyObject(i)||(n[t].fields={item:{fields:i}})}else a.properties&&(n[t]||(n[t]={fields:{}}),n[t].fields=e(a))})),n}Alpaca.Fields.IntegerField.prototype.getValue=function(){var e=this.field.val();return Alpaca.isValEmpty(e)?"":parseFloat(e)},apiEndpointListBoxes.each((function(){var t=$.data($(this).get(0),"apiSchemas");if(t&&!$.isEmptyObject(t)){$(this).find(".requestBodySchemaContainer").each((function(){var n=$(this).attr("data-request-body-schema-id");if(n){var a=$(this).parent("form").get(0),i=t[n];if(i&&a){var o=$.extend({definitions:t},i),s=e(o),r=JSON.parse($(this).attr("data-request-body-default-value"))||{};$(this).alpaca({schema:o,data:r,options:$.extend({name:"requestBody"},{fields:s}),postRender:function(e){$.data(a,"requestBodyAlpacaForm",e)}})}}}))}}))},e.initAceEditor=function(){$(".method > div.title").click((function(){var t=$(this).siblings("form").find(".requestBody"),n=t.siblings(".parameters"),a="text",i=t.siblings(".request-body-editor");i.length>0&&(this.editor||(n&&(a=e.getEditorMode(n.find('[name="params[Content-Type]"]').val())),this.editor=ace.edit(i[0]),this.editor.getSession().setMode("ace/mode/"+a),this.editor.getSession().on("change",$.proxy((function(){var e=this.editor.getSession().getScreenLength()*this.editor.renderer.lineHeight+this.editor.renderer.scrollBar.getWidth();e>t.height()&&(i.css("height",e+"px"),this.editor.resize())}),this)),this.editor.on("blur",$.proxy((function(){t.val(this.editor.getSession().getValue())}),this))),t.hide(),i.css("height",t.height()).show(),this.editor.resize(),this.editor.focus())}))},e.getEditorMode=function(e){return"string"==typeof e&&e.toLowerCase().indexOf("json")>=0?"json":"text"},e.getCurrentAuthType=function(){return $("#api"+apiSelectBox.val()).attr("data-auth-type")},e.getBasicAuthEnabled=function(){return"true"===$("#api"+apiSelectBox.val()).attr("data-basic-auth")},e.showApiCredentialBox=function(n){e.hideAllApiCredentialBoxes(),apiCredentialForm.each((function(){this.reset()}));var a=$("#api"+apiSelectBox.val()),i=e.getCurrentAuthType(),o=".credentials_start."+i,s=$.parseJSON(a.attr("data-available-keys"));switch(e.getBasicAuthEnabled()&&$("#apiBasicAuthCredFlowContainer").show(),i){case"key":$("#apiSecretContainer").hide(),$("#apiKeySecretListContainer").hide(),$("#apiKeyContainer").hide(),s&&s.length?($("#apiKeySecret").empty(),$.each(s,(function(e,t){var n="";n=t.application?t.application+": "+t.key:t.key,$("#apiKeySecret").append($("<option>",{value:t.key,"data-secret":t.secret}).text(n))})),$("#apiKeySecretListContainer").slideDown(),t&&($("#apiSecretContainer").slideDown(),showManualKeySecret.hide())):($("#apiKeyContainer").slideDown(),"1"===a.attr("data-secret")&&$("#apiSecretContainer").slideDown());break;case"oauth2":var r=$.parseJSON(a.attr("data-auth-flows"));$("#apiOAuth2FlowType").empty(),$("#apiOAuth2PresetKeysContainer").hide(),r&&$.each(r,(function(e,t){$("#apiOAuth2FlowType").append($("<option>",{value:t}).text(function(e){switch(e){case"auth_code":return"Authorization Code / Web Server";case"implicit":return"Implicit / Javascript Client";case"password_cred":return"Password Credentials";case"client_cred":return"Client Credentials";default:return"Unknown"}}(t)))})),s&&s.length&&($("#apiOAuth2PresetKeys").empty(),$("#apiOAuth2PresetKeys").append($("<option>",{value:"__manual"}).text("Manual Input")),$.each(s,(function(e,t){$("#apiOAuth2PresetKeys").append($("<option>",{value:t.key,"data-secret":t.secret}).text(t.application))})),$("#apiOAuth2PresetKeysContainer").slideDown()),$("#apiOAuth2FlowType").change();break;case"soapWssSecurityAuth":var c=$.parseJSON(a.attr("data-auth-wss-token-types"));c&&$.each(c,(function(t,n){if("soapWssUserNameToken"==n){var a,i,o=$("#apiSoapWssUserNameTokenAuthCredFlowContainer").slideDown(),s=e.getWssFields();for(o.find(".SoapWssUserNameTokenAuthGenerated").remove(),a=0;a<s.length;a++)i='<div class="SoapWssUserNameTokenAuthGenerated">',i+='<label for="apiSoapWssUserNameTokenAuth'+s[a]+'">'+s[a]+":</label>",i+='<input type="text"  id="apiSoapWssUserNameTokenAuth'+s[a]+'"/>',i+="</div>",o.append(i)}else"soapWssBinarySecurityToken"==n&&$("#apiSoapWssBinarySecurityTokenAuthCredFlowContainer").slideDown()}));break;case"soapBasic":$("#apiSoapBasicAuthCredFlowContainer").slideDown()}$(o).slideDown()},e.hideAllApiCredentialBoxes=function(){$(".credentials").filter(":visible").slideUp()},e.hideOAuth2CredentialInputs=function(){$(".credentials.oauth2").not(".credentials_start").slideUp()},e.setOAuth2AuthorizeCode=function(t){$("#apiOAuth2AuthorizeCode").val(t),$("#apiOAuth2AuthorizeCodeContainer").slideDown(),"1"===$("#api"+e.getSelectedApiId()).attr("data-auto-exchange-auth-code")&&(apiOAuth2AccessBtn.hide(),e.exchangeAuthCodeforAccessToken())},e.getAuthorizationCode=function(t,a){var i=window.open(null,"masheryOAuth2AuthWindow","width=300,height=400");window.clearInterval(e.authTimer),e.authTimer=window.setInterval((function(){!1!==i.closed&&(window.clearInterval(e.authTimer),e.setOAuth2AuthorizeCode(window.auth_code),delete window.auth_code)}),200),$.ajax({async:!0,headers:{"X-Ajax-Synchronization-Token":n},data:{apiId:apiSelectBox.val(),client_id:t,client_secret:a,auth_flow:"auth_code"},dataType:"json",global:!1,timeout:1e4,type:"POST",url:"/io-docs/getoauth2authuri",error:function(e,t,n){alert(e.responseText)},success:function(e,t,n){e.success?(i.location.href=e.authorize_uri,i.focus()):i.close()}})},e.sendImplicitAccessToken=function(t,a,i){$.ajax({async:!0,headers:{"X-Ajax-Synchronization-Token":n},data:{apiId:apiSelectBox.val(),access_token:t.access_token,expires_in:t.expires_in,token_type:t.token_type},dataType:"json",global:!1,timeout:1e4,type:"POST",url:"/io-docs/catchOauth2ImplicitToken",error:function(){alert("Sorry, there was an error processing the response from the OAuth2 server. Try again later")},success:function(n){n.success?e.setOAuth2AccessToken(t.access_token):alert("Sorry, but there was an error during the account authorization process. Either the credentials were not entered correctly, or permission was denied by the account holder. Please try again.")}})},e.getImplicitAccessToken=function(t){var a=window.open(null,"masheryOAuth2AuthWindow","width=300,height=400");window.clearInterval(e.authTimer),e.authTimer=window.setInterval((function(){!1!==a.closed&&(window.clearInterval(e.authTimer),e.sendImplicitAccessToken(window.access_token),delete window.access_token)}),200),$.ajax({async:!0,headers:{"X-Ajax-Synchronization-Token":n},data:{apiId:apiSelectBox.val(),client_id:t,auth_flow:"implicit"},dataType:"json",global:!1,timeout:1e4,type:"POST",url:"/io-docs/getoauth2authuri",error:function(e,t,n){alert(e.responseText)},success:function(t,n,i){t.success?(a.location.href=t.authorize_uri,a.focus()):(a.close(),e.resetOAuth2AccessToken())}})},e.resetOAuth2AccessToken=function(){$("#apiOAuth2AccessToken").val(""),$("#apiOAuth2AccessTokenContainer").slideUp()},e.setOAuth2AccessToken=function(e){$("#apiOAuth2AccessToken").val(e),$("#apiOAuth2AccessTokenContainer").slideDown()},e.getAccessTokenFromPasswordCred=function(t,a,i,o){$.ajax({async:!0,headers:{"X-Ajax-Synchronization-Token":n},data:{apiId:apiSelectBox.val(),auth_flow:"password_cred",client_id:t,client_secret:a,username:i,password:o},dataType:"json",global:!1,timeout:1e4,type:"GET",url:"/io-docs/getoauth2accesstoken",error:function(e,t,n){alert(e.responseText)},success:function(t,n,a){t.success?e.setOAuth2AccessToken(t.result.access_token):(e.resetOAuth2AccessToken(),alert(a.responseText))}})},e.getAccessTokenFromClientCred=function(t,a){$.ajax({async:!0,headers:{"X-Ajax-Synchronization-Token":n},data:{apiId:apiSelectBox.val(),auth_flow:"client_cred",client_id:t,client_secret:a},dataType:"json",global:!1,timeout:1e4,type:"GET",url:"/io-docs/getoauth2accesstoken",error:function(e,t,n){alert(e.responseText)},success:function(t,n,a){t.success?e.setOAuth2AccessToken(t.result.access_token):(e.resetOAuth2AccessToken(),alert(a.responseText))}})},e.exchangeAuthCodeforAccessToken=function(){$.ajax({async:!0,headers:{"X-Ajax-Synchronization-Token":n},data:{apiId:apiSelectBox.val(),auth_flow:"auth_code",authorization_code:$("#apiOAuth2AuthorizeCode").val()},dataType:"json",global:!1,timeout:1e4,type:"GET",url:"/io-docs/getoauth2accesstoken",error:function(e,t,n){alert(e.responseText)},success:function(t,n,a){t.success?e.setOAuth2AccessToken(t.result.access_token):(e.resetOAuth2AccessToken(),alert(a.responseText))}})},e.oauthSuccess=function(){alert("You have successfully logged in")},e.getWssFields=function(){var e,t=$("#api"+apiSelectBox.val()),n=t.attr("data-auth-wss-fields");return n&&n.length>0&&(e=$.parseJSON(n)),e||[]},apiSelectBox.width(apiSelectBox.outerWidth()+40),apiTitle.text(apiSelectBox.find("option:selected").text()).width(apiSelectBox.outerWidth()).height(apiSelectBox.outerHeight()),apiSelectBox.change((function(){e.selectApiById(apiSelectBox.val()),apiTitle.text(apiSelectBox.find("option:selected").text())})),$("#apiOAuth2PresetKeys").change((function(e){var t=$("#apiOAuth2PresetKeys").find("> :selected");"__manual"===t.val()||""===t.val()?($(".oauth2_client_id_field").val(""),$(".oauth2_client_secret_field").val("")):($(".oauth2_client_id_field").val(t.val()),$(".oauth2_client_secret_field").val(t.attr("data-secret")))})),apiOAuth2FlowType.change((function(t){if(e.hideOAuth2CredentialInputs(),""!==apiOAuth2FlowType.val())switch(apiOAuth2FlowType.val()){case"auth_code":$("#apiOAuth2AuthCodeFlowContainer").slideDown();break;case"implicit":$("#apiOAuth2ImplicitFlowContainer").slideDown();break;case"password_cred":$("#apiOAuth2PasswordCredFlowContainer").slideDown();break;case"client_cred":$("#apiOAuth2ClientCredFlowContainer").slideDown()}})),apiOAuth2PCBtn.click((function(t){t.preventDefault(),e.getAccessTokenFromPasswordCred($("#apiOAuth2ClientIdPasswordCred").val(),$("#apiOAuth2ClientSecretPasswordCred").val(),$("#apiOAuth2Username").val(),$("#apiOAuth2Password").val())})),apiOAuth2CCBtn.click((function(t){t.preventDefault(),e.getAccessTokenFromClientCred($("#apiOAuth2ClientIdClientCred").val(),$("#apiOAuth2ClientSecretClientCred").val())})),apiOAuth2AuthBtn.click((function(t){t.preventDefault(),e.getAuthorizationCode($("#apiOAuth2ClientIdAuthCode").val(),$("#apiOAuth2ClientSecretAuthCode").val())})),apiOAuth2ImplABtn.click((function(t){t.preventDefault(),e.getImplicitAccessToken($("#apiOAuth2ClientIdImplicit").val())})),apiOAuth2AccessBtn.click((function(t){t.preventDefault(),e.exchangeAuthCodeforAccessToken()})),showManualKeySecret.click((function(e){e.preventDefault();var t=$("#api"+apiSelectBox.val());$("#apiSecretContainer").hide(),$("#apiKeySecretListContainer").hide(),$("#apiKeyContainer").hide(),$("#apiKeyContainer").slideDown(),"1"===t.attr("data-secret")&&$("#apiSecretContainer").slideDown()})),toggleEndpointsLink.click((function(t){t.preventDefault(),e.hideAllSelectedMethods(),e.toggleAllSelectedEndpoints()})),toggleMethodsLink.click((function(t){t.preventDefault(),e.toggleAllSelectedMethods()})),$(".endpoint > h3 > span.name").click((function(e){e.preventDefault(),$(this).closest(".endpoint").find(".methods").slideToggle()})),$(".list-methods > a").click((function(e){e.preventDefault(),$(this).closest(".endpoint").find(".methods:hidden").slideDown()})),$(".expand-methods > a").click((function(e){e.preventDefault(),$(this).closest(".endpoint").find(".methods:hidden").slideDown(),$(this).closest(".endpoint").find(".method:visible > form:hidden").slideDown()})),$(".method > div.title").click((function(e){e.preventDefault(),$(this).parent().find("form").slideToggle()})),$(".method > form").submit((function(a){a.preventDefault();var i,o=$(this).children("div.result"),s=$(this).children("div.error"),r=$(this).serializeArray(),c={name:"apiId",value:e.getSelectedApiId()},l={name:"apiKey",value:apiKeyInput.val()},d={name:"apiSecret",value:apiSecretInput.val()},u={name:"basicAuthName",value:apiBasicAuthName.val()},h={name:"basicAuthPass",value:apiBasicAuthPass.val()},p={name:"soapBasicAuthName",value:apiSoapBasicAuthName.val()},m={name:"soapBasicAuthPass",value:apiSoapBasicAuthPass.val()},f={name:"soapWssUserNameTokenAuthName",value:apiSoapWssUserNameTokenAuthName.val()},g={name:"soapWssBinarySecurityTokenAuthToken",value:apiSoapWssBinarySecurityTokenAuthToken.val()},y=$(this).get(0),v=$.data(y,"requestBodyAlpacaForm"),w=e.getWssFields(),A=$(y).find('[type="file"]'),b=!1;v&&(i={name:"requestBodyJson",value:JSON.stringify(v.getValue())}),apiKeySecretInput.is(":visible")&&(l.value=apiKeySecretInput.find("> :selected").val(),t||(d.value=apiKeySecretInput.find("> :selected").attr("data-secret"))),r.push(c,l,d,u,h,p,m,f,g);for(var x=0;x<w.length;x++){var S=$("#apiSoapWssUserNameTokenAuth"+w[x]);r.push({name:"soapWssUserNameTokenAuth"+w[x],value:S.val()})}if(i&&r.push(i),A.length>0){var k=new FormData;$.each(r,(function(e,t){k.append(t.name,t.value)})),$.each(A,(function(e,t){var n=t.files[0];n&&n.size>85e4?b=!0:k.append($(t).attr("name"),n||"")})),r=k}if(!o.length){$('<a class="clear-results" href="#">Clear Results</a>').css({display:"none"}).click((function(e){e.preventDefault(),$(this).fadeOut((function(){$(this).remove()})),$(o).slideUp((function(){o.remove()}))})).insertAfter($(this).find("> input[type=submit]")).fadeIn();var C=$('<a class="select-all" href="#">Select content</a>').click((function(e){e.preventDefault(),selectElementText($(this).parent().next("pre")[0])}));o=$('<div class="result" />').css({display:"none"}),o.append($('<h4 class="call">Request URI</h4>'),$('<pre class="call" />')),o.append($('<h4 class="requestHeaders">Request Headers</h4>').hide().append(C.clone(!0)),$('<pre class="requestHeaders" />').hide()),o.append($('<h4 class="requestCookies">Request Cookies</h4>').hide().append(C.clone(!0)),$('<pre class="requestCookies prettyprint" />').hide()),o.append($('<h4 class="requestBody">Request Body</h4>').hide().append(C.clone(!0)),$('<pre class="requestBody prettyprint" />').hide()),o.append($('<h4 class="responseStatus">Response Status</h4>').append(C.clone(!0)),$('<pre class="responseStatus" />')),o.append($('<h4 class="headers">Response Headers</h4>').append(C.clone(!0)),$('<pre class="headers" />')),o.append($('<h4 class="responseCookies">Response Cookies</h4>').hide().append(C.clone(!0)),$('<pre class="responseCookies prettyprint" />').hide()),o.append($('<h4 class="response">Response Body</h4>').append(C.clone(!0)),$('<pre class="response prettyprint" />')),o.appendTo(this).slideDown()}o.show(),s.length||(s=$('<div class="error" />').css({display:"none"}),s.append($('<h4 class="error">Error</h4>'),$('<pre class="error prettyprint" />')),s.appendTo(this)),s.hide(),b?(s.find("pre.error").text("The selected file exceeds the maximum allowed limit of "+Math.ceil(850)+"kb."),o.hide(),s.show()):$.ajax({url:"/io-docs/call-api",type:"POST",headers:{"X-Ajax-Synchronization-Token":n},data:r,contentType:!(A.length>0)&&"application/x-www-form-urlencoded; charset=UTF-8",processData:!(A.length>0),dataType:"json",beforeSend:function(){o.children("pre").text("Loading...").removeClass("error")},error:function(e,t,n){s.find("pre.error").text(e.responseText),o.hide(),s.show()},success:function(e){var t=e.responseBody,n=e.responseHeaders&&e.responseHeaders["Content-Type"]||"",a=e.status.code>0||e.status.text||t.length>0;switch(o.find("pre.call").text(e.requestUri),o.find("pre.requestHeaders").text($(e.requestHeaders).length?formatHeaders(e.requestHeaders):""),o.find(".requestHeaders").toggle(!!$(e.requestHeaders).length),o.find("pre.requestCookies").text($(e.requestCookies).length?formatJSON(e.requestCookies):""),o.find(".requestCookies").toggle(!!$(e.requestCookies).length),o.find("pre.requestBody").text(e.requestBody||""),o.find(".requestBody").toggle(!!e.requestBody),o.find("pre.responseStatus").text(e.status.code+" "+e.status.text).toggleClass("error",e.status.code>=400).removeClass((function(e,t){return(t.match(/(^|\s)status-code-\d+/g)||[]).join(" ")})).addClass("status-code-"+e.status.code),o.find(".responseStatus").toggle(!!(e.status.code>0||e.status.text)),o.find("pre.headers").text(formatHeaders(e.responseHeaders)).toggleClass("error",e.status.code>=400).removeClass((function(e,t){return(t.match(/(^|\s)status-code-\d+/g)||[]).join(" ")})).addClass("status-code-"+e.status.code),o.find(".headers").toggle(!!$(e.responseHeaders).length),n.split(";")[0]){case"application/javascript":case"application/json":case"application/x-javascript":case"application/x-json":case"text/javascript":case"text/json":case"text/x-javascript":case"text/x-json":try{t=js_beautify(t,{preserve_newlines:!1})}catch(n){t=e.responseBody}break;case"application/xml":case"text/xml":case"text/html":case"text/xhtml":t=formatXML(t)||""}
o.children("pre.response").text(t).toggleClass("error",e.status.code>=400).removeClass((function(e,t){return(t.match(/(^|\s)status-code-\d+/g)||[]).join(" ")})).addClass("status-code-"+e.status.code),o.find(".response").toggle(!!a),e.errorMessage&&(s.find("pre.error").text(e.errorMessage),s.show()),prettyPrint()}})})),1===apiEndpointListBoxes.length&&apiSelectBox.val(apiSelectBox.find('> [value!=""]').val()).change(),apiSelectBox.find("> [data-auto-select=1]").length&&apiSelectBox.val(apiSelectBox.find("> [data-auto-select=1]").val()).change(),e.init=function(){enableHSSMField=document.querySelector('input[name="enable_high_security_secret_management"]'),t=!!(enableHSSMField&&enableHSSMField.getAttribute("value").length>0),syncTokenValueField=document.querySelector(apiCredentialForm+' input[name="ajax_synchronization_token"]'),n=syncTokenValueField?syncTokenValueField.getAttribute("value"):"",e.initApiSchemas(),e.initRequestBodyAlpacaForms(),e.initAceEditor()},e})();$(document).ready((function(){window.iodocs=(function(){var e={},t=($(".services"),$(".apiDescriptionList")),n=$("#apiId"),a=$("#apiTitle"),i=($(".credentials"),$("#credentials")),o=i.find("input[name=ajax_synchronization_token]").val(),s=$("#apiKey"),r=$("#apiSecret"),c=$("#apiKeySecret"),l=$("#showManualKeySecret"),d=($("#apiName"),$("#controls")),u=$(".endpointList"),h=$("#toggleEndpoints"),p=$("#toggleMethods"),m=$("#apiOAuth2FlowType"),f=$("#apiOAuth2AuthorizationButton"),g=$("#apiOAuth2ImplicitExchangeButton"),y=$("#apiOAuth2AuthClientCredExchangeButton"),v=$("#apiOAuth2AuthPassCredExchangeButton"),w=$("#apiOAuth2AuthExchangeButton"),A=$("#apiBasicAuthUsername"),b=$("#apiBasicAuthPassword"),x=$("#apiSoapBasicAuthUsername"),S=$("#apiSoapBasicAuthPassword"),k=$("#apiSoapWssUserNameTokenAuthUsername"),C=$("#apiSoapWssBinarySecurityTokenAuthToken"),T=!!$("input[name=enable_high_security_secret_management]").val();return e.selectApiById=function(n){return u.attr("data-is-selected",!1),t.attr("data-is-selected",!1),n?(u.filter("#api"+n).attr("data-is-selected",!0),t.filter("#apiDescription"+n).attr("data-is-selected",!0),e.showApiCredentialBox(n),e.showApiDescriptionBox(),e.showEMControlBox(),e.hideAllUnselectedApiEndpointLists(),e.showSelectedApiEndpointList(),e.showAllSelectedEndpoints(),null):e.hideAll()},e.getSelectedApiEndpointListBox=function(){return u.filter("[data-is-selected=true]")},e.getSelectedApiId=function(){return e.getSelectedApiEndpointListBox().attr("data-api-id")},e.showApiDescriptionBox=function(){e.hideApiDescriptionBox(),t.filter("#apiDescription"+e.getSelectedApiId()+":hidden").slideDown()},e.hideApiDescriptionBox=function(){t.filter(":not(#apiDescription"+e.getSelectedApiId()+"):visible").slideUp()},e.showEMControlBox=function(){d.filter(":hidden").slideDown()},e.hideEMControlBox=function(){d.filter(":visible").slideUp()},e.showSelectedApiEndpointList=function(){u.filter("#api"+e.getSelectedApiId()+":hidden").slideDown()},e.hideAllApiEndpointLists=function(){u.filter(":visible").slideUp()},e.hideAllUnselectedApiEndpointLists=function(){u.filter(":not(#api"+e.getSelectedApiId()+"):visible").slideUp()},e.toggleAllSelectedEndpoints=function(){var e=u.find(".endpoint:visible > .methods");e.filter(":hidden").length?e.slideDown():e.slideUp()},e.showAllSelectedEndpoints=function(){u.find(".endpoint:visible > .methods:hidden").slideDown()},e.toggleAllSelectedMethods=function(){var t=u.find(".endpoint:visible > .methods"),n=t.filter(":hidden").length;if(e.showAllSelectedEndpoints(),n)return e.showAllSelectedMethods();var a=t.find(".method:visible > form");return a.filter(":hidden").length?a.slideDown():a.slideUp(),null},e.showAllSelectedMethods=function(){u.find(".endpoint:visible .method:visible > form:hidden").slideDown()},e.hideAllSelectedMethods=function(){u.find(".endpoint.visible .method:visible > form:visible").slideUp()},e.hideAll=function(){e.hideAllApiCredentialBoxes(),e.hideApiDescriptionBox(),e.hideEMControlBox(),e.hideAllApiEndpointLists()},e.initApiSchemas=function(){var t=!1;u.each((function(){if(!t){t=!0;for(var n in Array.prototype)Array.prototype.hasOwnProperty(n)&&delete Array.prototype[n]}var a=$.data($(this).get(0),"apiSchemas");a&&!$.isEmptyObject(a)&&$.each(a,(function(t,n){n.title||(n.title=t),e.initApiSchemaProperties(n.properties)}))}))},e.initApiSchemaProperties=function(t){t&&$.each(t,(function(t,n){n.title||(n.title=t.replace(/([a-z])([A-Z])/g,"$1 $2").replace(/^./,(function(e){return e.toUpperCase()}))),n.$ref&&0!==n.$ref.indexOf("#")&&(n.$ref="#/definitions/"+n.$ref),n.items&&n.items.$ref&&0!==n.items.$ref.indexOf("#")&&(n.items.$ref="#/definitions/"+n.items.$ref),"object"===n.type?e.initApiSchemaProperties(n.properties):"array"===n.type&&e.initApiSchemaProperties(n.items.properties)}))},e.initRequestBodyAlpacaForms=function(){function e(t){var n={};return t.properties&&$.each(t.properties,(function(t,a){if("array"===a.type){var i=e(a.items);n[t]||(n[t]={items:{}}),n[t].toolbarSticky=!0,n[t].fieldClass="iodoc-array-field",n[t].items.showMoveUpItemButton=!1,n[t].items.showMoveDownItemButton=!1,$.isEmptyObject(i)||(n[t].fields={item:{fields:i}})}else a.properties&&(n[t]||(n[t]={fields:{}}),n[t].fields=e(a))})),n}Alpaca.Fields.IntegerField.prototype.getValue=function(){var e=this.field.val();return Alpaca.isValEmpty(e)?"":parseFloat(e)},u.each((function(){var t=$.data($(this).get(0),"apiSchemas");if(t&&!$.isEmptyObject(t)){$(this).find(".requestBodySchemaContainer").each((function(){var n=$(this).attr("data-request-body-schema-id");if(n){var a=$(this).parent("form").get(0),i=t[n];if(i&&a){var o=$.extend({definitions:t},i),s=e(o),r=JSON.parse($(this).attr("data-request-body-default-value"))||{};$(this).alpaca({schema:o,data:r,options:$.extend({name:"requestBody"},{fields:s}),postRender:function(e){$.data(a,"requestBodyAlpacaForm",e)}})}}}))}}))},e.initAceEditor=function(){$(".method > div.title").click((function(){var t=$(this).siblings("form").find(".requestBody"),n=t.siblings(".parameters"),a="text",i=t.siblings(".request-body-editor");i.length>0&&(this.editor||(n&&(a=e.getEditorMode(n.find('[name="params[Content-Type]"]').val())),this.editor=ace.edit(i[0]),this.editor.getSession().setMode("ace/mode/"+a),this.editor.getSession().on("change",$.proxy((function(){var e=this.editor.getSession().getScreenLength()*this.editor.renderer.lineHeight+this.editor.renderer.scrollBar.getWidth();e>t.height()&&(i.css("height",e+"px"),this.editor.resize())}),this)),this.editor.on("blur",$.proxy((function(){t.val(this.editor.getSession().getValue())}),this))),t.hide(),i.css("height",t.height()).show(),this.editor.resize(),this.editor.focus())}))},e.getEditorMode=function(e){return"string"==typeof e&&e.toLowerCase().indexOf("json")>=0?"json":"text"},e.getCurrentAuthType=function(){return $("#api"+n.val()).attr("data-auth-type")},e.getBasicAuthEnabled=function(){return"true"===$("#api"+n.val()).attr("data-basic-auth")},e.showApiCredentialBox=function(t){e.hideAllApiCredentialBoxes(),i.each((function(){this.reset()}));var a=$("#api"+n.val()),o=e.getCurrentAuthType(),s=".credentials_start."+o,r=$.parseJSON(a.attr("data-available-keys"));switch(e.getBasicAuthEnabled()&&$("#apiBasicAuthCredFlowContainer").show(),o){case"key":$("#apiSecretContainer").hide(),$("#apiKeySecretListContainer").hide(),$("#apiKeyContainer").hide(),r&&r.length?($("#apiKeySecret").empty(),$.each(r,(function(e,t){var n="";n=t.application?t.application+": "+t.key:t.key,$("#apiKeySecret").append($("<option>",{value:t.key,"data-secret":t.secret}).text(n))})),$("#apiKeySecretListContainer").slideDown(),T&&($("#apiSecretContainer").slideDown(),l.hide())):($("#apiKeyContainer").slideDown(),"1"===a.attr("data-secret")&&$("#apiSecretContainer").slideDown());break;case"oauth2":var c=$.parseJSON(a.attr("data-auth-flows"));$("#apiOAuth2FlowType").empty(),$("#apiOAuth2PresetKeysContainer").hide(),c&&$.each(c,(function(e,t){$("#apiOAuth2FlowType").append($("<option>",{value:t}).text(function(e){switch(e){case"auth_code":return"Authorization Code / Web Server";case"implicit":return"Implicit / Javascript Client";case"password_cred":return"Password Credentials";case"client_cred":return"Client Credentials";default:return"Unknown"}}(t)))})),r&&r.length&&($("#apiOAuth2PresetKeys").empty(),$("#apiOAuth2PresetKeys").append($("<option>",{value:"__manual"}).text("Manual Input")),$.each(r,(function(e,t){$("#apiOAuth2PresetKeys").append($("<option>",{value:t.key,"data-secret":t.secret}).text(t.application))})),$("#apiOAuth2PresetKeysContainer").slideDown()),$("#apiOAuth2FlowType").change();break;case"soapWssSecurityAuth":var d=$.parseJSON(a.attr("data-auth-wss-token-types"));d&&$.each(d,(function(t,n){if("soapWssUserNameToken"==n){var a,i,o=$("#apiSoapWssUserNameTokenAuthCredFlowContainer").slideDown(),s=e.getWssFields();for(o.find(".SoapWssUserNameTokenAuthGenerated").remove(),a=0;a<s.length;a++)i='<div class="SoapWssUserNameTokenAuthGenerated">',i+='<label for="apiSoapWssUserNameTokenAuth'+s[a]+'">'+s[a]+":</label>",i+='<input type="text"  id="apiSoapWssUserNameTokenAuth'+s[a]+'"/>',i+="</div>",o.append(i)}else"soapWssBinarySecurityToken"==n&&$("#apiSoapWssBinarySecurityTokenAuthCredFlowContainer").slideDown()}));break;case"soapBasic":$("#apiSoapBasicAuthCredFlowContainer").slideDown()}$(s).slideDown()},e.hideAllApiCredentialBoxes=function(){$(".credentials").filter(":visible").slideUp()},e.hideOAuth2CredentialInputs=function(){$(".credentials.oauth2").not(".credentials_start").slideUp()},e.setOAuth2AuthorizeCode=function(t){$("#apiOAuth2AuthorizeCode").val(t),$("#apiOAuth2AuthorizeCodeContainer").slideDown(),"1"===$("#api"+e.getSelectedApiId()).attr("data-auto-exchange-auth-code")&&(w.hide(),e.exchangeAuthCodeforAccessToken())},e.getAuthorizationCode=function(t,a){var i=window.open(null,"masheryOAuth2AuthWindow","width=300,height=400");window.clearInterval(e.authTimer),e.authTimer=window.setInterval((function(){!1!==i.closed&&(window.clearInterval(e.authTimer),e.setOAuth2AuthorizeCode(window.auth_code),delete window.auth_code)}),200),$.ajax({async:!0,headers:{"X-Ajax-Synchronization-Token":o},data:{apiId:n.val(),client_id:t,client_secret:a,auth_flow:"auth_code"},dataType:"json",global:!1,timeout:1e4,type:"POST",url:"/io-docs/getoauth2authuri",error:function(e,t,n){alert(e.responseText)},success:function(e,t,n){e.success?(i.location.href=e.authorize_uri,i.focus()):i.close()}})},e.sendImplicitAccessToken=function(t,a,i){$.ajax({async:!0,headers:{"X-Ajax-Synchronization-Token":o},data:{apiId:n.val(),access_token:t.access_token,expires_in:t.expires_in,token_type:t.token_type},dataType:"json",global:!1,timeout:1e4,type:"POST",url:"/io-docs/catchOauth2ImplicitToken",error:function(){alert("Sorry, there was an error processing the response from the OAuth2 server. Try again later")},success:function(n){n.success?e.setOAuth2AccessToken(t.access_token):alert("Sorry, but there was an error during the account authorization process. Either the credentials were not entered correctly, or permission was denied by the account holder. Please try again.")}})},e.getImplicitAccessToken=function(t){var a=window.open(null,"masheryOAuth2AuthWindow","width=300,height=400");window.clearInterval(e.authTimer),e.authTimer=window.setInterval((function(){!1!==a.closed&&(window.clearInterval(e.authTimer),e.sendImplicitAccessToken(window.access_token),delete window.access_token)}),200),$.ajax({async:!0,headers:{"X-Ajax-Synchronization-Token":o},data:{apiId:n.val(),client_id:t,auth_flow:"implicit"},dataType:"json",global:!1,timeout:1e4,type:"POST",url:"/io-docs/getoauth2authuri",error:function(e,t,n){alert(e.responseText)},success:function(t,n,i){t.success?(a.location.href=t.authorize_uri,a.focus()):(a.close(),e.resetOAuth2AccessToken())}})},e.resetOAuth2AccessToken=function(){$("#apiOAuth2AccessToken").val(""),$("#apiOAuth2AccessTokenContainer").slideUp()},e.setOAuth2AccessToken=function(e){$("#apiOAuth2AccessToken").val(e),$("#apiOAuth2AccessTokenContainer").slideDown()},e.getAccessTokenFromPasswordCred=function(t,a,i,s){$.ajax({async:!0,headers:{"X-Ajax-Synchronization-Token":o},data:{apiId:n.val(),auth_flow:"password_cred",client_id:t,client_secret:a,username:i,password:s},dataType:"json",global:!1,timeout:1e4,type:"GET",url:"/io-docs/getoauth2accesstoken",error:function(e,t,n){alert(e.responseText)},success:function(t,n,a){t.success?e.setOAuth2AccessToken(t.result.access_token):(e.resetOAuth2AccessToken(),alert(a.responseText))}})},e.getAccessTokenFromClientCred=function(t,a){$.ajax({async:!0,headers:{"X-Ajax-Synchronization-Token":o},data:{apiId:n.val(),auth_flow:"client_cred",client_id:t,client_secret:a},dataType:"json",global:!1,timeout:1e4,type:"GET",url:"/io-docs/getoauth2accesstoken",error:function(e,t,n){alert(e.responseText)},success:function(t,n,a){t.success?e.setOAuth2AccessToken(t.result.access_token):(e.resetOAuth2AccessToken(),alert(a.responseText))}})},e.exchangeAuthCodeforAccessToken=function(){$.ajax({async:!0,headers:{"X-Ajax-Synchronization-Token":o},data:{apiId:n.val(),auth_flow:"auth_code",authorization_code:$("#apiOAuth2AuthorizeCode").val()},dataType:"json",global:!1,timeout:1e4,type:"GET",url:"/io-docs/getoauth2accesstoken",error:function(e,t,n){alert(e.responseText)},success:function(t,n,a){t.success?e.setOAuth2AccessToken(t.result.access_token):(e.resetOAuth2AccessToken(),alert(a.responseText))}})},e.oauthSuccess=function(){alert("You have successfully logged in")},e.getWssFields=function(){var e,t=$("#api"+n.val()),a=t.attr("data-auth-wss-fields");return a&&a.length>0&&(e=$.parseJSON(a)),e||[]},n.width(n.outerWidth()+40),a.text(n.find("option:selected").text()).width(n.outerWidth()).height(n.outerHeight()),n.change((function(){e.selectApiById(n.val()),a.text(n.find("option:selected").text())})),$("#apiOAuth2PresetKeys").change((function(e){var t=$("#apiOAuth2PresetKeys").find("> :selected");"__manual"===t.val()||""===t.val()?($(".oauth2_client_id_field").val(""),$(".oauth2_client_secret_field").val("")):($(".oauth2_client_id_field").val(t.val()),$(".oauth2_client_secret_field").val(t.attr("data-secret")))})),m.change((function(t){if(e.hideOAuth2CredentialInputs(),""!==m.val())switch(m.val()){case"auth_code":$("#apiOAuth2AuthCodeFlowContainer").slideDown();break;case"implicit":$("#apiOAuth2ImplicitFlowContainer").slideDown();break;case"password_cred":$("#apiOAuth2PasswordCredFlowContainer").slideDown();break;case"client_cred":$("#apiOAuth2ClientCredFlowContainer").slideDown()}})),v.click((function(t){t.preventDefault(),e.getAccessTokenFromPasswordCred($("#apiOAuth2ClientIdPasswordCred").val(),$("#apiOAuth2ClientSecretPasswordCred").val(),$("#apiOAuth2Username").val(),$("#apiOAuth2Password").val())})),y.click((function(t){t.preventDefault(),e.getAccessTokenFromClientCred($("#apiOAuth2ClientIdClientCred").val(),$("#apiOAuth2ClientSecretClientCred").val())})),f.click((function(t){t.preventDefault(),e.getAuthorizationCode($("#apiOAuth2ClientIdAuthCode").val(),$("#apiOAuth2ClientSecretAuthCode").val())})),g.click((function(t){t.preventDefault(),e.getImplicitAccessToken($("#apiOAuth2ClientIdImplicit").val())})),w.click((function(t){t.preventDefault(),e.exchangeAuthCodeforAccessToken()})),l.click((function(e){e.preventDefault();var t=$("#api"+n.val());$("#apiSecretContainer").hide(),$("#apiKeySecretListContainer").hide(),$("#apiKeyContainer").hide(),$("#apiKeyContainer").slideDown(),"1"===t.attr("data-secret")&&$("#apiSecretContainer").slideDown()})),h.click((function(t){t.preventDefault(),e.hideAllSelectedMethods(),e.toggleAllSelectedEndpoints()})),p.click((function(t){t.preventDefault(),e.toggleAllSelectedMethods()})),$(".endpoint > h3 > span.name").click((function(e){e.preventDefault(),$(this).closest(".endpoint").find(".methods").slideToggle()})),$(".list-methods > a").click((function(e){e.preventDefault(),$(this).closest(".endpoint").find(".methods:hidden").slideDown()})),$(".expand-methods > a").click((function(e){e.preventDefault(),$(this).closest(".endpoint").find(".methods:hidden").slideDown(),$(this).closest(".endpoint").find(".method:visible > form:hidden").slideDown()})),$(".method > div.title").click((function(e){e.preventDefault(),$(this).parent().find("form").slideToggle()})),$(".method > form").submit((function(t){t.preventDefault();var n,a=$(this).children("div.result"),i=$(this).children("div.error"),l=$(this).serializeArray(),d={name:"apiId",value:e.getSelectedApiId()},u={name:"apiKey",value:s.val()},h={name:"apiSecret",value:r.val()},p={name:"basicAuthName",value:A.val()},m={name:"basicAuthPass",value:b.val()},f={name:"soapBasicAuthName",value:x.val()},g={name:"soapBasicAuthPass",value:S.val()},y={name:"soapWssUserNameTokenAuthName",value:k.val()},v={name:"soapWssBinarySecurityTokenAuthToken",value:C.val()},w=$(this).get(0),B=$.data(w,"requestBodyAlpacaForm"),I=e.getWssFields(),O=$(w).find('[type="file"]'),P=!1;B&&(n={name:"requestBodyJson",value:JSON.stringify(B.getValue())}),c.is(":visible")&&(u.value=c.find("> :selected").val(),T||(h.value=c.find("> :selected").attr("data-secret"))),l.push(d,u,h,p,m,f,g,y,v);for(var E=0;E<I.length;E++){var R=$("#apiSoapWssUserNameTokenAuth"+I[E]);l.push({name:"soapWssUserNameTokenAuth"+I[E],value:R.val()})}if(n&&l.push(n),O.length>0){var D=new FormData;$.each(l,(function(e,t){D.append(t.name,t.value)})),$.each(O,(function(e,t){var n=t.files[0];n&&n.size>85e4?P=!0:D.append($(t).attr("name"),n||"")})),l=D}if(!a.length){$('<a class="clear-results" href="#">Clear Results</a>').css({display:"none"}).click((function(e){e.preventDefault(),$(this).fadeOut((function(){$(this).remove()})),$(a).slideUp((function(){a.remove()}))})).insertAfter($(this).find("> input[type=submit]")).fadeIn();var M=$('<a class="select-all" href="#">Select content</a>').click((function(e){e.preventDefault(),selectElementText($(this).parent().next("pre")[0])}));a=$('<div class="result" />').css({display:"none"}),a.append($('<h4 class="call">Request URI</h4>'),$('<pre class="call" />')),a.append($('<h4 class="requestHeaders">Request Headers</h4>').hide().append(M.clone(!0)),$('<pre class="requestHeaders" />').hide()),a.append($('<h4 class="requestCookies">Request Cookies</h4>').hide().append(M.clone(!0)),$('<pre class="requestCookies prettyprint" />').hide()),a.append($('<h4 class="requestBody">Request Body</h4>').hide().append(M.clone(!0)),$('<pre class="requestBody prettyprint" />').hide()),a.append($('<h4 class="responseStatus">Response Status</h4>').append(M.clone(!0)),$('<pre class="responseStatus" />')),a.append($('<h4 class="headers">Response Headers</h4>').append(M.clone(!0)),$('<pre class="headers" />')),a.append($('<h4 class="responseCookies">Response Cookies</h4>').hide().append(M.clone(!0)),$('<pre class="responseCookies prettyprint" />').hide()),a.append($('<h4 class="response">Response Body</h4>').append(M.clone(!0)),$('<pre class="response prettyprint" />')),a.appendTo(this).slideDown()}a.show(),i.length||(i=$('<div class="error" />').css({display:"none"}),i.append($('<h4 class="error">Error</h4>'),$('<pre class="error prettyprint" />')),i.appendTo(this)),i.hide(),P?(i.find("pre.error").text("The selected file exceeds the maximum allowed limit of "+Math.ceil(850)+"kb."),a.hide(),i.show()):$.ajax({url:"/io-docs/call-api",type:"POST",headers:{"X-Ajax-Synchronization-Token":o},data:l,contentType:!(O.length>0)&&"application/x-www-form-urlencoded; charset=UTF-8",processData:!(O.length>0),dataType:"json",beforeSend:function(){a.children("pre").text("Loading...").removeClass("error")},error:function(e,t,n){i.find("pre.error").text(e.responseText),a.hide(),i.show()},success:function(e){var t=e.responseBody,n=e.responseHeaders&&e.responseHeaders["Content-Type"]||"",o=e.status.code>0||e.status.text||t.length>0;switch(a.find("pre.call").text(e.requestUri),a.find("pre.requestHeaders").text($(e.requestHeaders).length?formatHeaders(e.requestHeaders):""),a.find(".requestHeaders").toggle(!!$(e.requestHeaders).length),a.find("pre.requestCookies").text($(e.requestCookies).length?formatJSON(e.requestCookies):""),a.find(".requestCookies").toggle(!!$(e.requestCookies).length),a.find("pre.requestBody").text(e.requestBody||""),a.find(".requestBody").toggle(!!e.requestBody),a.find("pre.responseStatus").text(e.status.code+" "+e.status.text).toggleClass("error",e.status.code>=400).removeClass((function(e,t){return(t.match(/(^|\s)status-code-\d+/g)||[]).join(" ")})).addClass("status-code-"+e.status.code),a.find(".responseStatus").toggle(!!(e.status.code>0||e.status.text)),a.find("pre.headers").text(formatHeaders(e.responseHeaders)).toggleClass("error",e.status.code>=400).removeClass((function(e,t){return(t.match(/(^|\s)status-code-\d+/g)||[]).join(" ")})).addClass("status-code-"+e.status.code),a.find(".headers").toggle(!!$(e.responseHeaders).length),n.split(";")[0]){case"application/javascript":case"application/json":case"application/x-javascript":case"application/x-json":case"text/javascript":case"text/json":case"text/x-javascript":case"text/x-json":try{t=js_beautify(t,{preserve_newlines:!1})}catch(n){t=e.responseBody}break;case"application/xml":case"text/xml":case"text/html":case"text/xhtml":t=formatXML(t)||""}a.children("pre.response").text(t).toggleClass("error",e.status.code>=400).removeClass((function(e,t){return(t.match(/(^|\s)status-code-\d+/g)||[]).join(" ")})).addClass("status-code-"+e.status.code),a.find(".response").toggle(!!o),e.errorMessage&&(i.find("pre.error").text(e.errorMessage),i.show()),prettyPrint()}})})),1===u.length&&n.val(n.find('> [value!=""]').val()).change(),n.find("> [data-auto-select=1]").length&&n.val(n.find("> [data-auto-select=1]").val()).change(),e.initApiSchemas(),e.initRequestBodyAlpacaForms(),e.initAceEditor(),e})()}));