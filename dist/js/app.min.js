/*! blackbeard v0.0.1 | (c) 2017 Chris Ferdinandi | BSD-3-Clause License | http://github.com/mashery/blackbeard */
!(function(e,n){"function"==typeof define&&define.amd?define([],n(e)):"object"==typeof exports?module.exports=n(e):e.atomic=n(e)})("undefined"!=typeof global?global:this.window||this.global,(function(e){"use strict";var n,t={},a=!!e.XMLHttpRequest&&!!e.JSON,r={type:"GET",url:null,data:{},callback:null,headers:{"Content-type":"application/x-www-form-urlencoded"},responseType:"text",withCredentials:!1},o=function(){for(var e={},n=0;n<arguments.length;n++){var t=arguments[n];!(function(n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&("[object Object]"===Object.prototype.toString.call(n[t])?e[t]=o(!0,e[t],n[t]):e[t]=n[t])})(t)}return e},i=function(e){var t;if("text"!==n.responseType&&""!==n.responseType)return[e.response,e];try{t=JSON.parse(e.responseText)}catch(n){t=e.responseText}return[t,e]},c=function(e){var n="";for(var t in e)e.hasOwnProperty(t)&&(n.length>0&&(n+="&"),n+=encodeURI(t+"="+e[t]));return n},l=function(){var e={success:function(){},error:function(){},always:function(){}},t={success:function(n){return e.success=n,t},error:function(n){return e.error=n,t},always:function(n){return e.always=n,t}},a=new XMLHttpRequest;a.onreadystatechange=function(){if(4===a.readyState){var n=i(a);a.status>=200&&a.status<300?e.success.apply(e,n):e.error.apply(e,n),e.always.apply(e,n)}},a.open(n.type,n.url,!0),a.responseType=n.responseType;for(var r in n.headers)n.headers.hasOwnProperty(r)&&a.setRequestHeader(r,n.headers[r]);return n.withCredentials&&(a.withCredentials=!0),a.send(c(n.data)),t},s=function(){var t=e.document.getElementsByTagName("script")[0],a=e.document.createElement("script");n.data.callback=n.callback,a.src=n.url+(n.url.indexOf("?")+1?"&":"?")+c(n.data),t.parentNode.insertBefore(a,t),a.onload=function(){this.remove()}};return t.ajax=function(e){if(a)return n=o(r,e||{}),"jsonp"===n.type.toLowerCase()?s():l()},t}));var getNav=function(e){for(var n=[],t=mashery.dom.querySelectorAll(e),a=0;a<t.length;a++)n.push({label:t[a].innerHTML,url:t[a].getAttribute("href")});return n},fetchUserProfile=function(){window.mashery.userProfile||atomic.ajax({url:"/member/edit",responseType:"document"}).success((function(e){var n=e.querySelector(".actions .public-profile.action");if(n){n=n.getAttribute("href"),window.mashery.userProfile=n,sessionStorage.setItem("masheryUserProfile",n);var t=document.querySelector('a[href*="/profile/profile/"]');t&&(t.href=n)}}))},getContent=function(e){var n=window.mashery.dom,t=window.mashery.content;if(t.navPrimary=getNav("#local a"),t.navSecondary=getNav("#footer > ul a"),"page"===e&&(t.main=n.querySelector("#main").innerHTML),"docs"===e&&(t.main=n.querySelector("#main").innerHTML,t.secondary=n.querySelector("#sub ul").innerHTML),"signin"===e){var a=n.querySelector("#signin form");t.main='<form action="'+a.action+'" method="post" enctype="multipart/form-data">'+a.innerHTML+"</form>"}if("register"===e){var r=n.querySelector("#member-register");t.main='<form action="'+r.action+'" method="post" enctype="multipart/form-data">'+r.innerHTML+"</form>"}if("accountKeys"===e){var o=document.querySelectorAll(".main div.key"),i=document.querySelector(".action.new-key");t.main=[],t.secondary=i?i.getAttribute("href"):null,o.forEach((function(e){var n=e.querySelectorAll("dd");t.main.push({heading:e.previousSibling,application:n[0].trim(),key:n[1].trim(),status:n[2].trim(),created:n[3].querySelector("abbr").getAttribute("title"),limits:"<table>"+e.querySelector("table.key").innerHTML+"<table>",report:e.querySelector(".key-actions.actions .view-report.action").getAttribute("href"),delete:e.querySelector(".key-actions.actions .delete.action").getAttribute("href")})}))}if("accountApps"===e){var c=document.querySelectorAll(".main .application"),l=document.querySelector(".main .actions .add-app.action");t.main=[],t.secondary=l?l.getAttribute("href"):null,c.forEach((function(e){var n=e.querySelectorAll("dd"),a=e.querySelectorAll("tbody td");t.main.push({application:e.document.querySelector("h3").innerHTML.trim(),created:n[1].querySelector("abbr").getAttribute("title"),api:a[0].innerHTML.trim(),key:a[1].innerHTML.trim(),edit:e.querySelector(".application-actions.actions .edit.action").getAttribute("href"),delete:e.querySelector(".application-actions.actions .delete-app.action").getAttribute("href")})}))}if("accountManage"===e){var s=n.querySelector("#member-edit"),d=n.querySelector(".actions .public-profile.action");t.main='<form action="'+s.getAttribute("action")+'" method="post" enctype="multipart/form-data" id="member-edit">'+s.innerHTML+"</form>",t.main=t.main.replace("<legend>Account Information</legend>",""),d&&(d=d.getAttribute("href"),window.mashery.userProfile=d,sessionStorage.setItem("masheryUserProfile",d))}if("accountEmail"===e){var u=n.querySelector(".main form");if(!u)return;t.main='<form action="'+u.getAttribute("action")+'" method="post" enctype="multipart/form-data">'+u.innerHTML+"</form>",fetchUserProfile()}if("accountPassword"===e){var m=n.querySelector(".main form");if(!m)return;t.main='<form action="'+m.getAttribute("action")+'" method="post" enctype="multipart/form-data">'+m.innerHTML+"</form>",t.secondary=n.querySelector("#passwd_requirements").innerHTML,fetchUserProfile()}if("profile"===e){var h=n.querySelectorAll(".user-information dd"),p=n.querySelector("table.recent-activity"),y=n.querySelector('a[href*="/r/member/"]');if(!p||h.length<1)return;t.main={name:n.querySelector("h1.first").innerHTML.replace("View Member ","").trim(),admin:y?y.getAttribute("href"):null,blog:h[0].querySelector("a").getAttribute("href"),website:h[1].querySelector("a").getAttribute("href"),registered:h[2].querySelector("abbr").getAttribute("title"),activity:p?"<table>"+p.innerHTML+"</table>":null}}},getContentType=function(e){var n=null;return e.classList.contains("please-login")?n="pleaseLogin":e.classList.contains("page-page")?n="page":e.classList.contains("page-docs")?n="docs":e.classList.contains("page-ioDocs")?n="ioDocs":e.classList.contains("page-forum")?n=e.classList.contains("topics")?"forumTopics":e.classList.contains("topic-add")?"forumAddTopic":e.classList.contains("read")?"forumSingle":e.classList.contains("recent")?"forumRecent":"forumAll":e.classList.contains("page-blog")?n=e.classList.contains("browse")?"blogAll":"blogSingle":e.classList.contains("page-apps")?e.classList.contains("mykeys")?n="accountKeys":e.classList.contains("myapps")&&(n="accountApps"):e.classList.contains("page-member")?n=e.classList.contains("email")?"accountEmail":e.classList.contains("passwd")?"accountPassword":e.classList.contains("register")?"register":e.classList.contains("remove")?/You have been removed!/.test(e.querySelector(".main .section-body").innerHTML)?"memberRemoveSuccess":"memberRemove":"accountManage":e.classList.contains("page-profile")?n="profile":e.classList.contains("page-login")?n="signin":e.classList.contains("page-search")?n="search":e.classList.contains("page-logout")?n=e.querySelector("#user-nav .account")?"logoutFail":"logout":e.classList.contains("page-contact")&&(n="contact"),n},removeCSS=function(e){"use strict";for(var n=document.getElementsByTagName("link"),t=new RegExp(e),a=n.length;a>=0;a--)if(n[a]&&null!==n[a].href&&t.test(n[a].href))return n[a].parentNode.removeChild(n[a]),n[a]},setupMashery=function(e){var n=e.querySelector("#page"),t=document.createElement("div");t.innerHTML=n.innerHTML;var a=t.querySelector("#user-nav .dashboard a"),r=t.querySelector("#mashery-logout-form");window.mashery={},window.mashery.dom="dom"in window.mashery?window.mashery.dom:t,window.mashery.title=e.title,window.mashery.loggedIn=!("undefined"==typeof mashery_info||!mashery_info||!mashery_info.username),window.mashery.username=window.mashery.loggedIn?mashery_info.username:null,window.mashery.userProfile=sessionStorage.getItem("masheryUserProfile"),window.mashery.isAdmin=!!t.querySelector("#user-nav .dashboard.toggle"),window.mashery.area=t.querySelector("#branding-logo").innerHTML.trim(),window.mashery.dashboard=a||null,window.mashery.logout=r||null,window.mashery.contentType=getContentType(e.body),window.mashery.content={},n.remove()};setupMashery(document),document.querySelector("#app")||loadPlaceholder(),removeCSS("localdev.css"),removeCSS("Mashery-base.css"),removeCSS("mashery-blue.css"),removeCSS("print-defaults.css"),"ioDocs"===mashery.contentType&&(removeCSS("Iodocs/style.css"),removeCSS("alpaca.min.css")),getContent(window.mashery.contentType);var loadPortal=(function(){"use strict";var e,n={},t={ajax:!0,ajaxIgnore:null,logo:null,templates:{layout:'\x3c!-- Skip Nav Link --\x3e<a class="screen-reader screen-reader-focusable" href="#main">Skip to content</a>{{layout.navUser}}{{layout.navPrimary}}{{layout.main}}<footer id="footer">{{layout.footer1}}{{layout.navSecondary}}{{layout.footer2}}</footer>',userNav:'<div class="container"><ul id="nav-user-list" class="list-inline text-small text-muted padding-top-small padding-bottom-small no-margin-bottom text-right">{{content.navItemsUser}}</ul></div>',primaryNav:'<div class="nav-wrap nav-collapse container padding-top-small padding-bottom-small"><a class="logo" href="/">{{content.logo}}</a><a role="button" class="nav-toggle" data-nav-toggle="#primary-nav-menu" href="#">Menu</a><div class="nav-menu" id="primary-nav-menu"><ul class="nav" id="primary-nav-list">{{content.navItemsPrimary}}</ul></div></div>',secondaryNav:'<div class="container"><ul id="nav-secondary-list">{{content.navItemsSecondary}}</ul>',footer1:'<div class="container"><hr></div>',footer2:'<div class="container"><p>{{content.masheryMade}}</p></div>',page:'<div class="container">{{content.main}}</div>',docs:'<div class="container"><div class="row"><div class="grid-two-thirds">{{content.main}}</div><div class="grid-third"><h2>In the Docs</h2><ul>{{content.docsNav}}</ul></div></div></div>',signin:'<div class="container"><div class="row"><div class="grid-half"><h1>{{content.heading}}</h1>{{content.subheading}}{{content.form}}</div><div class="grid-half">{{content.about}}</div></div></div>',register:'<div class="container"><div class="row"><div class="grid-two-thirds"><h1>{{content.heading}}</h1>{{content.subheading}}{{content.form}}{{content.terms}}</div><div class="grid-third">{{content.about}}</div></div></div>',accountKeys:function(){var e='<h1>{{label.headingMyApiKeys}}</h1><ul id="nav-account">{{content.navItemsAccount}}</ul>';return mashery.content.main.length>0?i(mashery.content.main,(function(n){e+="<h2>"+n.heading+"</h2>",n.application,n.key,n.status,n.created,n.limits,n.delete})):e+="{{label.noKeys}}",mashery.content.secondary&&(e+='<p><a class="btn" href="'+mashery.content.secondary+'">Get API Keys</a></p>'),'<div class="container container-small">'+e+"</div>"},accountApps:function(){var e='<h1>{{label.headingMyApps}}</h1><ul id="nav-account">{{content.navItemsAccount}}</ul>';return mashery.content.main.length>0?i(mashery.content.main,(function(n){e+="<h2>"+n.application+"</h2>",n.api,n.key,n.created,n.edit,n.delete})):e+="{{label.noApps}}",mashery.content.secondary&&(e+='<p><a class="btn" href="'+window.mashery.content.secondary+'">Create a New App</a></p>'),'<div class="container container-small">'+e+"</div>"},accountManage:'<div class="container container-small"><h1>{{label.headingAccount}}</h1><ul id="nav-account">{{content.navItemsAccount}}</ul><ul id="nav-mashery-account">{{content.navItemsMasheryAccount}}</ul><h2>{{label.headingAccountInfo}}</h2>'+window.mashery.content.main+"</div>",accountEmail:'<div class="container container-small"><h1>{{label.headingChangeEmail}}</h1><ul id="nav-account">{{content.navItemsAccount}}</ul><ul id="nav-mashery-account">{{content.navItemsMasheryAccount}}</ul>'+window.mashery.content.main+"</div>",accountPassword:'<div class="container container-small"><h1>{{label.headingChangePassword}}</h1><ul id="nav-account">{{content.navItemsAccount}}</ul><ul id="nav-mashery-account">{{content.navItemsMasheryAccount}}</ul>'+window.mashery.content.main+"</div>",profile:function(){var e="<h1>"+window.mashery.content.main.name+"</h1>";return window.mashery.content.main.admin&&(e+='<p><a href="'+window.mashery.content.main.admin+'">View administrative profile for '+window.mashery.content.main.name+"</a></p>"),e+="<h2>{{label.headingUserInfo}}</h2><ul>",window.mashery.content.main.website&&(e+='<li><strong>{{label.userWebsite}}</strong> <a href="'+window.mashery.content.main.website+'">'+window.mashery.content.main.website+"</a></li>"),window.mashery.content.main.blog&&(e+='<li><strong>{{label.userBlog}}</strong> <a href="'+window.mashery.content.main.blog+'">'+window.mashery.content.main.blog+"</a></li>"),e+="<li><strong>{{label.userRegistered}}</strong> "+window.mashery.content.main.registered+"</li>",e+="</ul>",window.mashery.content.main.activity&&(e+="<h2>{{label.headingActivity}}</h2>"+window.mashery.content.main.activity),'<div class="container">'+e+"</div>"},logout:'<div class="container container-small"><h1>{{label.heading}}</h1><p>{{label.main}}</p></div>',logoutFail:'<div class="container container-small"><h1>{{label.heading}}</h1><p>{{label.main}}</p></div>',memberRemove:'<div class="container container-small"><h1>{{label.heading}}</h1><p>{{label.main}}</p><p><a class="btn" href="{{path.removeMember}}">{{label.confirm}}</a><a class="btn" href="{{path.account}}">{{label.cancel}}</a></p></div>',memberRemoveSuccess:'<div class="container container-small"><h1>{{label.heading}}</h1><p>{{label.main}}</p></div>',ioDocs:'<div class="container"><p>This content needs to get created.</p></div>',contact:'<div class="container"><p>This content needs to get created.</p></div>',search:'<div class="container"><p>This content needs to get created.</p></div>'},labels:{title:"{{mashery.title}} | {{mashery.area}}",userNav:{signin:"Sign In",register:"Register",account:"My Account",dashboard:"Dashboard",signout:"Sign Out"},account:{headingMyApiKeys:"My API Keys",headingMyApps:"My Apps",headingAccount:"Manage Account",headingAccountInfo:"Account Information",headingChangeEmail:"Change Email",headingChangePassword:"Change Password",keys:"Keys",apps:"Applications",account:"Manage Account",changeEmail:"Change Email",changePassword:"Change Password",viewProfile:"View My Public Profile",removeMembership:"Remove Membership from "+window.mashery.area,noKeys:"You don't have any keys yet.",noApps:"You don't have any apps yet."},profile:{headingUserInfo:"User Information",headingActivity:"Recent Activity",userWebsite:"Website:",userBlog:"Blog:",userRegistered:"Registered:"},signin:{heading:"Sign In",subheading:"<p>Sign in to {{mashery.area}} using your Mashery ID.</p>",submit:"Sign In",sidebar:'<h2>Register</h2><p><a href="{{path.register}}">Create an account</a> to access stagingcs9.mashery.com. Your account information can then be used to access other APIs on the Mashery API Network.</p><h2>What is Mashery?</h2><p><a href="http://mashery.com">Mashery</a> powers APIs of leading brands in retail, media, business services, software, and more. By signing in to a Mashery powered portal, you can gain access to Mashery\'s base of API providers. All with a single Mashery ID.</p><p><a class="btn" href="{{path.register}}">Register a Mashery ID</a></p>'},register:{heading:"Register for an Account",subheading:"<p>Register a new Mashery ID to access {{mashery.area}}.</p>",submit:"Register",sidebar:"<h2>No Spam Guarantee</h2><p>We hate spam. We love our users. We promise to never sell or share any of your private information.</p>",privacyPolicy:""},logout:{heading:"Signed Out",main:"You have successfully signed out. Come back soon!"},logoutFail:{heading:"Sign Out Failed",main:"Your attempt to sign out failed. Please try again."},memberRemove:{heading:"Remove membership from "+window.mashery.area,main:"Removing membership disables your account and you will not be able to register again using the same username. All your keys will be deactivated.",confirm:"Remove Membership",cancel:"Cancel",popup:"Please confirm that you wish to permanently disable your membership with this service."},memberRemoveSuccess:{heading:"Your account has been removed.",main:"Enjoy the rest of your day!"}},callbacks:{beforeRenderLayout:function(){},afterRenderLayout:function(){},beforeRender:function(){},afterRender:function(){},beforeRenderUserNav:function(){},afterRenderUserNav:function(){},beforeRenderPrimaryNav:function(){},afterRenderPrimaryNav:function(){},beforeRenderSecondaryNav:function(){},afterRenderSecondaryNav:function(){},beforeRenderFooter:function(){},afterRenderFooter:function(){},beforeRenderMain:function(){},afterRenderMain:function(){}}},a={docs:{placeholder:"{{path.docs}}",url:"/docs"},signin:{placeholder:"{{path.signin}}",url:"/login/login"},register:{placeholder:"{{path.register}}",url:"/member/register"},accountManage:{placeholder:"{{path.account}}",url:"/member/edit"},accountApps:{placeholder:"{{path.apps}}",url:"/apps/myapps"},accountKeys:{placeholder:"{{path.keys}}",url:"/apps/mykeys"},changeEmail:{placeholder:"{{path.changeEmail}}",url:"/member/email"},changePassword:{placeholder:"{{path.changePassword}}",url:"/member/passwd"},viewProfile:{placeholder:"{{path.viewProfile}}",url:window.mashery.userProfile?window.mashery.userProfile:"/profile/profile"},removeMembership:{placeholder:"{{path.removeMembership}}",url:"/member/remove"},dashboard:{placeholder:"{{path.dashboard}}",url:window.mashery.dashboard?window.mashery.dashboard:"#"},logout:{placeholder:"{{path.logout}}",url:"/logout/logout"},ioDocs:{placeholder:"{{path.iodocs}}",url:"/io-docs"},contact:{placeholder:"{{path.contact}}",url:"/contact"},search:{placeholder:"{{path.search}}",url:"/search"},memberRemove:{placeholder:"{{path.removeMember}}",url:"/member/remove?action=removeMember"}},r={title:{placeholder:"{{mashery.title}}",text:function(){var e=document.querySelector("h1");return e?e.innerHTML.trim():window.mashery.title.replace(window.mashery.area+" - ","").replace(window.mashery.area,"")}},area:{placeholder:"{{mashery.area}}",text:function(){return window.mashery.area}},username:{placeholder:"{{mashery.username}}",text:function(){return window.mashery.username}},logo:{placeholder:"{{content.logo}}",text:function(){return e.logo?e.logo:window.mashery.area}},navItemsUser:{placeholder:"{{content.navItemsUser}}",text:function(){return d()}},navItemsPrimary:{placeholder:"{{content.navItemsPrimary}}",text:function(){return h(window.mashery.content.navPrimary)}},navItemsSecondary:{placeholder:"{{content.navItemsSecondary}}",text:function(){return h(window.mashery.content.navSecondary)}},navItemsAccount:{placeholder:"{{content.navItemsAccount}}",text:function(){return u()}},navItemsMasheryAccount:{placeholder:"{{content.navItemsMasheryAccount}}",text:function(){return m()}},registerPolicy:{placeholder:"{{registerPolicy}}",text:function(){return e.labels.register.privacyPolicy}},masheryMade:{placeholder:"{{content.masheryMade}}",text:'<a id="mashery-made-logo" href="http://mashery.com"><img src="https://support.mashery.com/public/Mashery/images/masherymade.png"></a>'}},o={layout:{navUser:{placeholder:"{{layout.navUser}}",text:'<nav id="nav-user"></nav>'},navPrimary:{placeholder:"{{layout.navPrimary}}",text:'<nav id="nav-primary"></nav>'},navSecondary:{placeholder:"{{layout.navSecondary}}",text:'<nav id="nav-secondary"></nav>'},main:{placeholder:"{{layout.main}}",text:'\x3c!-- tabindex="-1" hack for skipnav link: https://code.google.com/p/chromium/issues/detail?id=37721 --\x3e<main class="tabindex" tabindex="-1" id="main"></main>'},footer1:{placeholder:"{{layout.footer1}}",text:'<div id="footer-content-1"></div>'},footer2:{placeholder:"{{layout.footer2}}",text:'<div id="footer-content-2"></div>'}},page:{content:{placeholder:"{{content.main}}",text:function(){return window.mashery.content.main}}},docs:{content:{placeholder:"{{content.main}}",text:function(){return window.mashery.content.main}},nav:{placeholder:"{{content.docsNav}}",text:function(){return window.mashery.content.secondary}}},signin:{heading:{placeholder:"{{content.heading}}",text:function(){return e.labels.signin.heading}},subheading:{placeholder:"{{content.subheading}}",text:function(){return e.labels.signin.subheading}},form:{placeholder:"{{content.form}}",text:function(){return window.mashery.content.main}},about:{placeholder:"{{content.about}}",text:function(){return e.labels.signin.sidebar}}},register:{heading:{placeholder:"{{content.heading}}",text:function(){return e.labels.register.heading}},subheading:{placeholder:"{{content.subheading}}",text:function(){return e.labels.register.subheading}},form:{placeholder:"{{content.form}}",text:function(){return window.mashery.content.main}},terms:{placeholder:"{{content.terms}}",text:function(){return'<div id="registration-terms-of-service"><p>By clicking the "Register" button, I certify that I have read and agree to {{content.privacyPolicy}}the <a href="http://www.mashery.com/terms/">Mashery Terms of Service</a> and <a href="http://www.mashery.com/privacy/">Privacy Policy</a>.</p></div>'}},about:{placeholder:"{{content.about}}",text:function(){return e.labels.register.sidebar}},privacyPolicy:{placeholder:"{{content.privacyPolicy}}",text:function(){return e.labels.register.privacyPolicy}}},account:{headingMyApiKeys:{placeholder:"{{label.headingMyApiKeys}}",text:function(){return e.labels.account.headingMyApiKeys}},headingMyApps:{placeholder:"{{label.headingMyApps}}",text:function(){return e.labels.account.headingMyApps}},headingAccount:{placeholder:"{{label.headingAccount}}",text:function(){return e.labels.account.headingAccount}},headingAccountInfo:{placeholder:"{{label.headingAccountInfo}}",text:function(){return e.labels.account.headingAccountInfo}},headingChangeEmail:{placeholder:"{{label.headingChangeEmail}}",text:function(){return e.labels.account.headingChangeEmail}},headingChangePassword:{placeholder:"{{label.headingChangePassword}}",text:function(){return e.labels.account.headingChangePassword}},keys:{placeholder:"{{label.keys}}",text:function(){return e.labels.account.keys}},apps:{placeholder:"{{label.apps}}",text:function(){return e.labels.account.apps}},account:{placeholder:"{{label.account}}",text:function(){return e.labels.account.account}},noKeys:{placeholder:"{{label.noKeys}}",text:function(){return e.labels.account.noKeys}},noApps:{placeholder:"{{label.noApps}}",text:function(){return e.labels.account.noApps}}},profile:{headingUserInfo:{placeholder:"{{label.headingUserInfo}}",text:function(){return e.labels.profile.headingUserInfo}},headingActivity:{placeholder:"{{label.headingActivity}}",text:function(){return e.labels.profile.headingActivity}},userWebsite:{placeholder:"{{label.userWebsite}}",text:function(){return e.labels.profile.userWebsite}},userBlog:{placeholder:"{{label.userBlog}}",text:function(){return e.labels.profile.userBlog}},userRegistered:{placeholder:"{{label.userRegistered}}",text:function(){return e.labels.profile.userRegistered}}},logout:{heading:{placeholder:"{{label.heading}}",text:function(){return e.labels.logout.heading}},main:{placeholder:"{{label.main}}",text:function(){return e.labels.logout.main}}},logoutFail:{heading:{placeholder:"{{label.heading}}",text:function(){return e.labels.logoutFail.heading}},main:{placeholder:"{{label.main}}",text:function(){return e.labels.logoutFail.main}}},memberRemove:{heading:{placeholder:"{{label.heading}}",text:function(){return e.labels.memberRemove.heading}},main:{placeholder:"{{label.main}}",text:function(){return e.labels.memberRemove.main}},confirm:{placeholder:"{{label.confirm}}",text:function(){return e.labels.memberRemove.confirm}},cancel:{placeholder:"{{label.cancel}}",text:function(){return e.labels.memberRemove.cancel}},popup:{placeholder:"{{label.popup}}",text:function(){return e.labels.memberRemove.popup}}},memberRemoveSuccess:{heading:{placeholder:"{{label.heading}}",text:function(){return e.labels.memberRemoveSuccess.heading}},main:{placeholder:"{{label.main}}",text:function(){return e.labels.memberRemoveSuccess.main}}},ioDocs:{},contact:{},search:{}},i=function(e,n,t){if("[object Object]"===Object.prototype.toString.call(e))for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.call(t,e[a],a,e);else for(var r=0,o=e.length;r<o;r++)n.call(t,e[r],r,e)},c=function(){for(var e={},n=0,t=arguments.length;n<t;n++){var a=arguments[n];!(function(n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&("[object Object]"===Object.prototype.toString.call(n[t])?e[t]=c(!0,e[t],n[t]):e[t]=n[t])})(a)}return e},l=function(e){var n=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});e.dispatchEvent(n)},s=function(e,n){if(e="[object Function]"===Object.prototype.toString.call(e)?e():e,n){var t=/account/.test(n)?"account":n;o[t]&&i(o[t],(function(n){n.placeholder&&n.text&&(e=e.replace(new RegExp(n.placeholder,"g"),n.text))}))}return i(a,(function(n){n.placeholder&&n.url&&(e=e.replace(new RegExp(n.placeholder,"g"),n.url))})),i(r,(function(n){n.placeholder&&n.text&&(e=e.replace(new RegExp(n.placeholder,"g"),n.text))})),e},d=function(){var n;return n=mashery.loggedIn?'<li id="nav-user-myaccount"><a href="{{path.keys}}">'+e.labels.userNav.account+"</a></li>"+(mashery.isAdmin?'<li><a href="{{path.dashboard}}">'+e.labels.userNav.dashboard+"</a></li>":"")+'<li id="nav-user-signout"><a href="{{path.logout}}">'+e.labels.userNav.signout+"</a></li>":'<li id="nav-user-signin"><a href="{{path.signin}}">'+e.labels.userNav.signin+'</a></li><li id="nav-user-register"><a href="{{path.register}}">'+e.labels.userNav.register+"</a></li>",s(n)},u=function(){var n='<li><a href="{{path.keys}}">'+e.labels.account.keys+'</a></li><li><a href="{{path.apps}}">'+e.labels.account.apps+'</a></li><li><a href="{{path.account}}">'+e.labels.account.account+"</a></li>";return s(n)},m=function(){var n='<li><a href="{{path.changeEmail}}">'+e.labels.account.changeEmail+'</a></li><li><a href="{{path.changePassword}}">'+e.labels.account.changePassword+'</a></li><li><a href="{{path.viewProfile}}">'+e.labels.account.viewProfile+'</a></li><li><a href="{{path.removeMembership}}">'+e.labels.account.removeMembership+"</a></li>";return s(n)},h=function(e){var n="";return i(e,(function(e){n+='<li><a href="'+decodeURIComponent(e.url)+'">'+e.label+"</a></li>"})),n},p=function(e,n){var t=window.document.getElementsByTagName("script")[0],a=document.createElement(e);i(n,(function(e,n){a.setAttribute(n,e)})),t.parentNode.insertBefore(a,t)},y=function(n,t,a,r){var o=document.querySelector(n);if(o){if(a&&a(),o.innerHTML=e.templates[t]?s(e.templates[t],t):"",["page","docs"].indexOf(-1!==window.mashery.contentType)){document.querySelectorAll("#header-edit, #main .section .section-meta").forEach((function(e){e.remove()}))}r&&r()}},f=function(){if(-1!==["logout","memberRemoveSuccess"].indexOf(window.mashery.contentType)){window.mashery.dom.querySelector("#mashery-logout-form")||(window.mashery.loggedIn=!1,window.mashery.username=null,window.mashery.isAdmin=!1,window.mashery.dashboard=null,window.mashery.logout=null)}};n.renderLayout=function(){y("#app","layout",e.callbacks.beforeRenderLayout,e.callbacks.afterRenderLayout),f()},n.renderTitle=function(){document.title=s(e.labels.title,window.mashery.contentType)},n.renderUserNav=function(){y("#nav-user","userNav",e.callbacks.beforeRenderUserNav,e.callbacks.afterRenderUserNav)},n.renderPrimaryNav=function(){y("#nav-primary","primaryNav",e.callbacks.beforeRenderPrimaryNav,e.callbacks.afterRenderPrimaryNav)},n.renderSecondaryNav=function(){y("#nav-secondary","secondaryNav",e.callbacks.beforeRenderSecondaryNav,e.callbacks.afterRenderSecondaryNav)},n.renderContent=function(n,t){var a=document.querySelector(n);a&&(e.callbacks.beforeRenderFooter(),a.innerHTML=e.templates[t]?s(e.templates[t]):"",e.callbacks.afterRenderFooter())},n.renderMain=function(){y("#main",window.mashery.contentType,e.callbacks.beforeRenderMain,e.callbacks.afterRenderMain)};var g=function(e){e||(p("meta",{"http-equiv":"X-UA-Compatible",content:"IE=edge,chrome=1"}),p("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),p("link",{rel:"shortcut icon",href:"/files/favicon.ico"}),p("link",{rel:"icon",sizes:"16x16 32x32",href:"/files/favicon.icon"}))},v=function(){window.mashery.logout&&!document.querySelector("#mashery-logout-form")&&document.body.insertBefore(window.mashery.logout,document.body.lastChild)},b=function(){if("memberRemove"===window.mashery.contentType&&!document.querySelector("#member-remove-form")){var e=window.mashery.dom.querySelector(".main form");if(e){e.id="member-remove-form",e.setAttribute("hidden","hidden");var n=e.querySelector("#process");n&&n.setAttribute("onclick",'return confirm("'+o.memberRemove.popup.text()+'")'),document.body.insertBefore(e,document.body.lastChild)}}},w=function(){window.location.hash?window.location.hash=window.location.hash:document.querySelector("#app").focus()};n.renderMasheryMade=function(){if(!document.querySelector("#mashery-made-logo")){var e=document.querySelector("#app");if(e){var n=document.createElement("div");n.innerHTML='<p>x</p><div id="mashery-made"><div class="container"><p>'+r.masheryMade.text+"</p></div></div>",e.appendChild(n.childNodes[1])}}},n.renderPortal=function(t){e.callbacks.beforeRender(),g(t),n.renderLayout(),n.renderUserNav(),n.renderPrimaryNav(),n.renderSecondaryNav(),n.renderMain(),n.renderTitle(),n.renderContent("#footer-content-1","footer1"),n.renderContent("#footer-content-2","footer2"),w(),v(),b(),n.renderMasheryMade(),e.callbacks.afterRender(),document.documentElement.classList.remove("loading")};var S=function(e){var n=document.querySelector("#mashery-logout-form");n&&(e.preventDefault(),n.submit())},A=function(e,t){atomic.ajax({url:e,responseType:"document"}).success((function(a){setupMashery(a),getContent(window.mashery.contentType),n.renderPortal(!0),t&&window.history.pushState({url:e},a.title,e)}))},x=function(n){!e.ajax||e.ajaxIgnore&&n.target.matches(e.ajaxIgnore)||"a"===n.target.tagName.toLowerCase()&&n.target.href&&n.target.hostname===window.location.hostname&&""!==window.mashery.contentType&&(n.target.pathname===window.location.pathname&&n.target.hash.length>0||0!==n.button||n.metaKey||n.ctrlKey||(n.preventDefault(),A(n.target.href,!0)))},M=function(e){var n=document.querySelector("#member-remove-form #process");n&&"memberRemove"===window.mashery.contentType&&(e.preventDefault(),l(n))},R=function(e){return e.target.closest('a[href*="'+a.logout.url+'"]')?void S(e):e.target.closest('a[href*="'+a.memberRemove.url+'"]')?void M(e):void x(e)},P=function(e){var n=e.state&&e.state.url?e.state.url:window.location.href;A(n)};return n.init=function(a){loadJS("https://ft-polyfill-service.herokuapp.com/v2/polyfill.min.js",(function(){e=c(t,a||{}),n.renderPortal(),document.addEventListener("click",R,!1),e.ajax&&window.addEventListener("popstate",P,!1)}))},n})();