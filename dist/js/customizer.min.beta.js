/*! blackbeard vbeta | (c) 2017 Chris Ferdinandi | LicenseRef-All Rights Reserved License | http://github.com/mashery/blackbeard */
var customizer=function(){"use strict";var n,t,e,o,i,c,s,r,a,u="https://api.github.com/repos/mashery/blackbeard/contents/dist/",d=document.querySelector("#download-custom-js"),l=document.querySelector("#download-custom-css"),m=document.querySelector("#download-size"),f=document.querySelector("#download-init"),p=function(){if(c.length<1)return void(f.innerHTML="// No initialization needed...");f.innerHTML=c.replace(new RegExp("<","g"),"&lt;").replace(new RegExp(">","g"),"&gt;"),"Prism"in window&&Prism.highlightAll()},h=function(){if(e.length<1)return void p();e.forEach((function(n){var t=n.getAttribute("value");n.classList.contains("has-inits")?atomic.ajax({url:u+"inits/"+t+".js"}).success((function(n){c+=atob(n.content),p()})).error((function(n){})):p()}))},g=function(){atomic.ajax({url:u+"inits/"+t+".js"}).success((function(n){c=atob(n.content),h()})).error((function(n){}))},v=function(n){return Math.round(100*n/1024)/100+"kb"},b=function(){var n=s+r,t=Math.round(100*s/n)+"%",e=Math.round(100*r/n)+"%";m.innerHTML="<p>Total Filesize: <strong>"+v(n)+"</strong> ("+t+" JavaScript and "+e+" CSS)</p>"},L=function(e,o){if(o.length<1)return void(e.innerHTML="No "+("download-custom-js"===e.id?"JavaScript":"CSS")+" Needed");e.classList.remove("disabled"),e.href="data:application/octet-stream;charset=utf-8,"+encodeURIComponent(o),e.innerHTML="Download "+("download-custom-js"===e.id?"JavaScript":"CSS"),e.download=t+n+("download-custom-js"===e.id?".js":".css"),b()},S=function(){d.classList.add("disabled"),d.href="",d.innerHTML="Generating...",l.classList.add("disabled"),l.href="",l.innerHTML="Generating...",m.innerHTML="",f.innerHTML="Generating..."},j=function(){if(e.length<1)return L(d,o),void L(l,i);e.forEach((function(t){var e=t.getAttribute("value");t.classList.contains("has-js")?atomic.ajax({url:u+"js/"+e+n+".js"}).success((function(n){o+=atob(n.content),s+=n.size,L(d,o)})).error((function(n){})):L(d,o),t.classList.contains("has-css")?atomic.ajax({url:u+"css/"+e+n+".css"}).success((function(n){i+=atob(n.content),r+=n.size,L(l,i)})).error((function(n){})):L(l,i)}))},w=function(){atomic.ajax({url:u+"css/"+t+n+".css"}).success((function(n){i=atob(n.content),r+=n.size,j()})).error((function(n){}))},M=function(){S(),n="production"===document.querySelector('input[name="compression"]:checked').getAttribute("value")?".min.beta":"",t=document.querySelector('input[name="layout"]:checked').getAttribute("value"),e=document.querySelectorAll('input[name="plugins"]:checked'),o="",i="",c="",s=0,r=0,w(),g()},T=function(){a&&clearTimeout(a),a=setTimeout(M,500)},y=function(n){n.target.closest('input[name="compression"], input[name="layout"], input[name="plugins"]')&&T()};if(!d||!l)return void document.removeEventListener("click",y,!1);document.addEventListener("click",y,!1),T()};